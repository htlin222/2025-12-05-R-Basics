% Options for packages loaded elsewhere
% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  chinese,
  letterpaper,
  DIV=11,
  numbers=noendperiod]{scrreprt}
\usepackage{xcolor}
\usepackage{amsmath,amssymb}
\setcounter{secnumdepth}{5}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
% Make \paragraph and \subparagraph free-standing
\makeatletter
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}{
    \@ifstar
      \xxxParagraphStar
      \xxxParagraphNoStar
  }
  \newcommand{\xxxParagraphStar}[1]{\oldparagraph*{#1}\mbox{}}
  \newcommand{\xxxParagraphNoStar}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}{
    \@ifstar
      \xxxSubParagraphStar
      \xxxSubParagraphNoStar
  }
  \newcommand{\xxxSubParagraphStar}[1]{\oldsubparagraph*{#1}\mbox{}}
  \newcommand{\xxxSubParagraphNoStar}[1]{\oldsubparagraph{#1}\mbox{}}
\fi
\makeatother

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\newsavebox\pandoc@box
\newcommand*\pandocbounded[1]{% scales image to fit in text height/width
  \sbox\pandoc@box{#1}%
  \Gscale@div\@tempa{\textheight}{\dimexpr\ht\pandoc@box+\dp\pandoc@box\relax}%
  \Gscale@div\@tempb{\linewidth}{\wd\pandoc@box}%
  \ifdim\@tempb\p@<\@tempa\p@\let\@tempa\@tempb\fi% select the smaller of both
  \ifdim\@tempa\p@<\p@\scalebox{\@tempa}{\usebox\pandoc@box}%
  \else\usebox{\pandoc@box}%
  \fi%
}
% Set default figure placement to htbp
\def\fps@figure{htbp}
\makeatother



\ifLuaTeX
\usepackage[bidi=basic,provide=*]{babel}
\else
\usepackage[bidi=default,provide=*]{babel}
\fi
% get rid of language-specific shorthands (see #6817):
\let\LanguageShortHands\languageshorthands
\def\languageshorthands#1{}


\setlength{\emergencystretch}{3em} % prevent overfull lines

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}



 


\usepackage{booktabs}
\usepackage{caption}
\usepackage{longtable}
\usepackage{colortbl}
\usepackage{array}
\usepackage{anyfontsize}
\usepackage{multirow}
\KOMAoption{captions}{tableheading}
\makeatletter
\@ifpackageloaded{bookmark}{}{\usepackage{bookmark}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{ç›®éŒ„}
\else
  \newcommand\contentsname{ç›®éŒ„}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{åœ–ç›®éŒ„}
\else
  \newcommand\listfigurename{åœ–ç›®éŒ„}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{è¡¨ç›®éŒ„}
\else
  \newcommand\listtablename{è¡¨ç›®éŒ„}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{åœ–}
\else
  \newcommand\figurename{åœ–}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{è¡¨}
\else
  \newcommand\tablename{è¡¨}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{åˆ—è¡¨}
\newcommand*\listoflistings{\listof{codelisting}{åˆ—è¡¨ç›®éŒ„}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\usepackage{bookmark}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={R èªžè¨€çµ±è¨ˆå·¥å…·å…¥é–€ï¼šç”¨ AI å­¸æœƒåšè‡¨åºŠç ”ç©¶çµ±è¨ˆ},
  pdfauthor={æž—å”éœ†},
  pdflang={zh-TW},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}


\title{R èªžè¨€çµ±è¨ˆå·¥å…·å…¥é–€ï¼šç”¨ AI å­¸æœƒåšè‡¨åºŠç ”ç©¶çµ±è¨ˆ}
\author{æž—å”éœ†}
\date{2025-12-05}
\begin{document}
\maketitle

\renewcommand*\contentsname{ç›®éŒ„}
{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{2}
\tableofcontents
}

\bookmarksetup{startatroot}

\chapter*{å‰è¨€}\label{ux524dux8a00}
\addcontentsline{toc}{chapter}{å‰è¨€}

\markboth{å‰è¨€}{å‰è¨€}

æ­¡è¿Žä¾†åˆ°ã€ŒR èªžè¨€çµ±è¨ˆå·¥å…·å…¥é–€ï¼šç”¨ AI å­¸æœƒåšè‡¨åºŠç ”ç©¶çµ±è¨ˆã€ï¼

\begin{itemize}
\tightlist
\item
  \href{https://htlin222.github.io/learn-r-with-ai/}{æœ¬æ›¸é€£çµ}
\item
  \href{https://github.com/htlin222/learn-r-with-ai}{Github Repo} ä»¥åŠ
  \href{https://github.com/htlin222/learn-r-with-ai/archive/refs/heads/main.zip}{ä¸‹è¼‰ç¨‹å¼ç¢¼çš„é€£çµ}
\end{itemize}

\section*{èª²ç¨‹ç›®æ¨™}\label{ux8ab2ux7a0bux76eeux6a19}
\addcontentsline{toc}{section}{èª²ç¨‹ç›®æ¨™}

\markright{èª²ç¨‹ç›®æ¨™}

ä»Šå¤©çµæŸæ™‚ï¼Œä½ å°‡èƒ½å¤ ï¼š

\begin{itemize}
\tightlist
\item
  âœ… æŠŠå•é¡Œæè¿°æ¸…æ¥šï¼Œè®“ AI å¹«ä½ å¯«ç¨‹å¼
\item
  âœ… çœ‹æ‡‚ AI çµ¦çš„ç¨‹å¼ç¢¼å¤§æ¦‚åœ¨åšä»€éº¼
\item
  âœ… ç•¶ç¨‹å¼å‡ºéŒ¯ï¼ŒçŸ¥é“æ€Žéº¼å• AI ä¿®æ­£
\item
  âœ… ç”¢å‡ºå¯ä»¥æ”¾é€²è«–æ–‡çš„è¡¨æ ¼å’Œåœ–è¡¨
\item
  âœ… æœ‰ä¸€å€‹å¯ä»¥é‡è¤‡ä½¿ç”¨çš„åˆ†æžç¯„æœ¬
\end{itemize}

\section*{é€™å ‚èª²çš„çŽ©æ³•}\label{ux9019ux5802ux8ab2ux7684ux73a9ux6cd5}
\addcontentsline{toc}{section}{é€™å ‚èª²çš„çŽ©æ³•}

\markright{é€™å ‚èª²çš„çŽ©æ³•}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æˆ‘çµ¦ä½ ä¸€å€‹ã€Œä»»å‹™ã€
\item
  ä½ æŠŠä»»å‹™æè¿°è²¼çµ¦ AIï¼ˆChatGPT / Claudeï¼‰
\item
  AI çµ¦ä½ ç¨‹å¼ç¢¼
\item
  ä½ è²¼åˆ° RStudio / Antigravity åŸ·è¡Œ
\item
  æˆ‘å€‘ä¸€èµ·çœ‹çµæžœã€ç†è§£ç™¼ç”Ÿäº†ä»€éº¼
\end{enumerate}

\textbf{è¨˜ä½ï¼šä½ çš„å·¥ä½œæ˜¯ã€Œå•å°å•é¡Œã€ï¼Œä¸æ˜¯ã€Œå¯«å°ç¨‹å¼ã€ã€‚}

\section*{è³‡æ–™èªªæ˜Ž}\label{ux8cc7ux6599ux8aaaux660e}
\addcontentsline{toc}{section}{è³‡æ–™èªªæ˜Ž}

\markright{è³‡æ–™èªªæ˜Ž}

æœ¬èª²ç¨‹ä½¿ç”¨ \texttt{patient\_data.csv} æª”æ¡ˆï¼ŒåŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š

\begin{itemize}
\tightlist
\item
  \texttt{patient\_id}ï¼šç—…äººç·¨è™Ÿ
\item
  \texttt{treatment}ï¼šæ²»ç™‚çµ„åˆ¥ï¼ˆA æˆ– Bï¼‰
\item
  \texttt{age}ï¼šå¹´é½¡
\item
  \texttt{gender}ï¼šæ€§åˆ¥ï¼ˆM æˆ– Fï¼‰
\item
  \texttt{los}ï¼šä½é™¢å¤©æ•¸ï¼ˆlength of stayï¼‰
\end{itemize}

é€™ä»½è³‡æ–™å°‡è²«ç©¿æ•´å€‹èª²ç¨‹ï¼Œè®“ä½ èƒ½å¤ å¯¦éš›æ“ä½œä¸¦ç”¢å‡ºçœŸå¯¦å¯ç”¨çš„çµ±è¨ˆåˆ†æžçµæžœã€‚

\bookmarksetup{startatroot}

\chapter{ç¬¬ä¸€éƒ¨åˆ†ï¼šä½ ä»Šå¤©å°±æœƒå¯«ç¨‹å¼}\label{ux7b2cux4e00ux90e8ux5206ux4f60ux4ecaux5929ux5c31ux6703ux5bebux7a0bux5f0f}

æœ¬éƒ¨åˆ†é è¨ˆæ™‚é–“ï¼š40 åˆ†é˜

\section{ä»»å‹™
1ï¼šä½ çš„ç¬¬ä¸€å€‹ç¨‹å¼}\label{ux4efbux52d9-1ux4f60ux7684ux7b2cux4e00ux500bux7a0bux5f0f}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘å®Œå…¨æ²’å­¸éŽ R èªžè¨€ã€‚è«‹çµ¦æˆ‘ä¸€æ®µæœ€ç°¡å–®çš„ R ç¨‹å¼ç¢¼ï¼Œè®“æˆ‘å¯ä»¥ç•«å‡ºä¸€å€‹æœ‰ 5
æ ¹æŸ±å­çš„é•·æ¢åœ–ï¼Œæ¯æ ¹æŸ±å­çš„é«˜åº¦åˆ†åˆ¥æ˜¯
10ã€25ã€15ã€30ã€20ã€‚è«‹çµ¦æˆ‘å¯ä»¥ç›´æŽ¥è¤‡è£½è²¼ä¸ŠåŸ·è¡Œçš„ç¨‹å¼ç¢¼ã€‚
\end{quote}

\subsection{ç¯„ä¾‹ç¨‹å¼ç¢¼}\label{ux7bc4ux4f8bux7a0bux5f0fux78bc}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å»ºç«‹è³‡æ–™}
\NormalTok{heights }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{25}\NormalTok{, }\DecValTok{15}\NormalTok{, }\DecValTok{30}\NormalTok{, }\DecValTok{20}\NormalTok{)}
\NormalTok{categories }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"A"}\NormalTok{, }\StringTok{"B"}\NormalTok{, }\StringTok{"C"}\NormalTok{, }\StringTok{"D"}\NormalTok{, }\StringTok{"E"}\NormalTok{)}

\CommentTok{\# ç•«é•·æ¢åœ–}
\FunctionTok{barplot}\NormalTok{(heights, }
        \AttributeTok{names.arg =}\NormalTok{ categories,}
        \AttributeTok{main =} \StringTok{"æˆ‘çš„ç¬¬ä¸€å€‹ R åœ–è¡¨"}\NormalTok{,}
        \AttributeTok{xlab =} \StringTok{"é¡žåˆ¥"}\NormalTok{,}
        \AttributeTok{ylab =} \StringTok{"é«˜åº¦"}\NormalTok{,}
        \AttributeTok{col =} \StringTok{"steelblue"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{part1_files/figure-pdf/first-plot-1.pdf}}

â±ï¸ 3 åˆ†é˜å¾Œï¼Œä½ æ‡‰è©²æœƒåœ¨ RStudio / Antigravity çœ‹åˆ°ä¸€å¼µåœ–ã€‚

\section{ä»»å‹™
2ï¼šç™¼ç”Ÿäº†ä»€éº¼äº‹ï¼Ÿ}\label{ux4efbux52d9-2ux767cux751fux4e86ux4ec0ux9ebcux4e8b}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
è«‹ç”¨ã€Œæ•™å°å­¸ç”Ÿã€çš„æ–¹å¼ï¼Œè§£é‡‹ä½ å‰›å‰›çµ¦æˆ‘çš„é‚£æ®µ R
ç¨‹å¼ç¢¼ã€‚æ¯ä¸€è¡Œåœ¨åšä»€éº¼ï¼Ÿä»€éº¼æ˜¯ã€Œè®Šæ•¸ã€ï¼Ÿä»€éº¼æ˜¯ã€Œå‡½æ•¸ã€ï¼Ÿ
\end{quote}

\subsection{ç¨‹å¼ç¢¼è§£é‡‹}\label{ux7a0bux5f0fux78bcux89e3ux91cb}

\begin{itemize}
\tightlist
\item
  \textbf{è®Šæ•¸}ï¼šå°±åƒä¸€å€‹ç›’å­ï¼Œå¯ä»¥è£æ±è¥¿ã€‚\texttt{heights} è£äº† 5
  å€‹æ•¸å­—ã€‚
\item
  \textbf{å‡½æ•¸}ï¼šå°±åƒä¸€å€‹æ©Ÿå™¨ï¼Œä½ çµ¦å®ƒææ–™ï¼Œå®ƒç”¢å‡ºçµæžœã€‚\texttt{barplot()}
  å°±æ˜¯ç•«åœ–çš„æ©Ÿå™¨ã€‚
\item
  \textbf{åƒæ•¸}ï¼šå°±åƒæ©Ÿå™¨çš„è¨­å®šï¼Œå‘Šè¨´æ©Ÿå™¨æ€Žéº¼é‹ä½œã€‚
\end{itemize}

\section{ä»»å‹™
3ï¼šç•¶ç¨‹å¼å‡ºéŒ¯æ™‚}\label{ux4efbux52d9-3ux7576ux7a0bux5f0fux51faux932fux6642}

ðŸ“‹ \textbf{å¦‚æžœå‰›å‰›æœ‰éŒ¯èª¤è¨Šæ¯ï¼Œè¤‡è£½éŒ¯èª¤è¨Šæ¯ï¼ŒåŠ ä¸Šé€™æ®µè©±è²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘åœ¨ RStudio / Antigravity åŸ·è¡Œä½ çµ¦çš„ç¨‹å¼ç¢¼ï¼Œå‡ºç¾é€™å€‹éŒ¯èª¤ï¼š
ã€è²¼ä¸ŠéŒ¯èª¤è¨Šæ¯ã€‘ è«‹å‘Šè¨´æˆ‘é€™æ˜¯ä»€éº¼æ„æ€ï¼Œä»¥åŠæ€Žéº¼ä¿®æ­£ã€‚
\end{quote}

\subsection{å¸¸è¦‹éŒ¯èª¤ç¯„ä¾‹}\label{ux5e38ux898bux932fux8aa4ux7bc4ux4f8b}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# é€™æœƒç”¢ç”ŸéŒ¯èª¤ï¼ˆæ•…æ„çš„ï¼‰}
\FunctionTok{barplot}\NormalTok{(height)  }\CommentTok{\# è®Šæ•¸åç¨±æ‰“éŒ¯äº†}
\end{Highlighting}
\end{Shaded}

ðŸŽ¯ è¨˜ä½ï¼šéŒ¯èª¤è¨Šæ¯æ˜¯ç·šç´¢ï¼Œä¸æ˜¯ä½ çš„éŒ¯ã€‚

\section{ä»»å‹™ 4ï¼šèªè­˜å¥—ä»¶}\label{ux4efbux52d9-4ux8a8dux8b58ux5957ux4ef6}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
R èªžè¨€è£¡é¢çš„ã€Œå¥—ä»¶ã€(package) æ˜¯ä»€éº¼ï¼Ÿå¯ä»¥ç”¨ã€Œæ‰‹æ©Ÿ
Appã€ä¾†æ¯”å–»å—Žï¼Ÿå¦å¤–ï¼Œ\texttt{library()} é€™å€‹æŒ‡ä»¤æ˜¯åœ¨åšä»€éº¼ï¼Ÿ
\end{quote}

\subsection{å¥—ä»¶èªªæ˜Ž}\label{ux5957ux4ef6ux8aaaux660e}

\begin{itemize}
\tightlist
\item
  \textbf{å¥—ä»¶ = æ‰‹æ©Ÿ App}ï¼šæä¾›é¡å¤–åŠŸèƒ½
\item
  \textbf{å®‰è£å¥—ä»¶ = ä¸‹è¼‰ App}ï¼š\texttt{install.packages("å¥—ä»¶åç¨±")}
\item
  \textbf{è¼‰å…¥å¥—ä»¶ = é–‹å•Ÿ App}ï¼š\texttt{library(å¥—ä»¶åç¨±)}
\end{itemize}

\section{ä»»å‹™
5ï¼šå®‰è£æˆ‘å€‘éœ€è¦çš„å·¥å…·}\label{ux4efbux52d9-5ux5b89ux88ddux6211ux5011ux9700ux8981ux7684ux5de5ux5177}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘è¦åœ¨ R è£¡é¢ä½¿ç”¨ ggplot2ã€gtsummaryã€dplyr
é€™ä¸‰å€‹å¥—ä»¶ã€‚è«‹çµ¦æˆ‘å®‰è£é€™äº›å¥—ä»¶çš„ç¨‹å¼ç¢¼ï¼Œä»¥åŠå®‰è£å®Œä¹‹å¾Œæ€Žéº¼è¼‰å…¥å®ƒå€‘ã€‚
\end{quote}

\subsection{å®‰è£èˆ‡è¼‰å…¥å¥—ä»¶}\label{ux5b89ux88ddux8207ux8f09ux5165ux5957ux4ef6}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å®‰è£å¥—ä»¶ï¼ˆåªéœ€åŸ·è¡Œä¸€æ¬¡ï¼‰}
\FunctionTok{install.packages}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"ggplot2"}\NormalTok{, }\StringTok{"gtsummary"}\NormalTok{, }\StringTok{"dplyr"}\NormalTok{))}

\CommentTok{\# è¼‰å…¥å¥—ä»¶ï¼ˆæ¯æ¬¡ä½¿ç”¨å‰éƒ½è¦åŸ·è¡Œï¼‰}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(gtsummary)}
\FunctionTok{library}\NormalTok{(dplyr)}
\end{Highlighting}
\end{Shaded}

â±ï¸ å®‰è£å¯èƒ½éœ€è¦ 2-3 åˆ†é˜ï¼Œé€™æ˜¯æ­£å¸¸çš„ã€‚

\bookmarksetup{startatroot}

\chapter{ç¬¬äºŒéƒ¨åˆ†ï¼šè®€å–ä½ çš„è³‡æ–™}\label{ux7b2cux4e8cux90e8ux5206ux8b80ux53d6ux4f60ux7684ux8cc7ux6599}

æœ¬éƒ¨åˆ†é è¨ˆæ™‚é–“ï¼š20 åˆ†é˜

\section{ä»»å‹™ 6ï¼šè®€å– CSV
æª”æ¡ˆ}\label{ux4efbux52d9-6ux8b80ux53d6-csv-ux6a94ux6848}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘æœ‰ä¸€å€‹ CSV æª”æ¡ˆå«åš patient\_data.csvï¼Œæ”¾åœ¨æˆ‘çš„æ¡Œé¢ã€‚æˆ‘æ­£åœ¨ç”¨ RStudio
/ Antigravityã€‚è«‹å‘Šè¨´æˆ‘ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ€Žéº¼è®€å–é€™å€‹æª”æ¡ˆåˆ° R è£¡é¢ï¼Œä¸¦å­˜æˆä¸€å€‹å«åš \texttt{my\_data} çš„è®Šæ•¸
\item
  æ€Žéº¼çœ‹å‰å¹¾ç­†è³‡æ–™ç¢ºèªæœ‰è®€æˆåŠŸ
\end{enumerate}

è«‹çµ¦æˆ‘å¯ä»¥ç›´æŽ¥åŸ·è¡Œçš„ç¨‹å¼ç¢¼ã€‚
\end{quote}

\subsection{è®€å–è³‡æ–™}\label{ux8b80ux53d6ux8cc7ux6599}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è®€å– CSV æª”æ¡ˆ}
\NormalTok{my\_data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"patient\_data.csv"}\NormalTok{)}

\CommentTok{\# é¡¯ç¤ºå‰ 6 ç­†è³‡æ–™}
\FunctionTok{head}\NormalTok{(my\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
  patient_id treatment age gender los
1          1         A  45      M   5
2          2         B  52      F   8
3          3         A  38      M   4
4          4         B  61      F  12
5          5         A  55      F   6
6          6         B  42      M   9
\end{verbatim}

\section{ä»»å‹™
7ï¼šèªè­˜ä½ çš„è³‡æ–™}\label{ux4efbux52d9-7ux8a8dux8b58ux4f60ux7684ux8cc7ux6599}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘å·²ç¶“æŠŠè³‡æ–™è®€é€²ä¾†äº†ï¼Œå­˜åœ¨ä¸€å€‹å«åš \texttt{my\_data}
çš„è®Šæ•¸ã€‚è«‹çµ¦æˆ‘ç¨‹å¼ç¢¼ï¼Œè®“æˆ‘å¯ä»¥ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  çœ‹é€™å€‹è³‡æ–™æœ‰å¹¾åˆ—å¹¾æ¬„
\item
  çœ‹æ¯å€‹æ¬„ä½çš„åŸºæœ¬çµ±è¨ˆï¼ˆå¹³å‡ã€æœ€å¤§ã€æœ€å°ç­‰ï¼‰
\item
  çœ‹æ¯å€‹æ¬„ä½æ˜¯ä»€éº¼è³‡æ–™é¡žåž‹ï¼ˆæ•¸å­—ã€æ–‡å­—ç­‰ï¼‰
\end{enumerate}
\end{quote}

\subsection{æŽ¢ç´¢è³‡æ–™}\label{ux63a2ux7d22ux8cc7ux6599}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŸ¥çœ‹è³‡æ–™ç¶­åº¦ï¼ˆå¹¾åˆ—å¹¾æ¬„ï¼‰}
\FunctionTok{dim}\NormalTok{(my\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 100   5
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŸ¥çœ‹è³‡æ–™çµæ§‹}
\FunctionTok{str}\NormalTok{(my\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
'data.frame':   100 obs. of  5 variables:
 $ patient_id: int  1 2 3 4 5 6 7 8 9 10 ...
 $ treatment : chr  "A" "B" "A" "B" ...
 $ age       : int  45 52 38 61 55 42 49 58 36 64 ...
 $ gender    : chr  "M" "F" "M" "F" ...
 $ los       : int  5 8 4 12 6 9 5 11 3 14 ...
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŸ¥çœ‹åŸºæœ¬çµ±è¨ˆæ‘˜è¦}
\FunctionTok{summary}\NormalTok{(my\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   patient_id      treatment              age           gender         
 Min.   :  1.00   Length:100         Min.   :35.00   Length:100        
 1st Qu.: 25.75   Class :character   1st Qu.:41.00   Class :character  
 Median : 50.50   Mode  :character   Median :49.00   Mode  :character  
 Mean   : 50.50                      Mean   :48.77                     
 3rd Qu.: 75.25                      3rd Qu.:56.00                     
 Max.   :100.00                      Max.   :64.00                     
      los       
 Min.   : 3.00  
 1st Qu.: 5.00  
 Median : 7.50  
 Mean   : 8.07  
 3rd Qu.:11.00  
 Max.   :17.00  
\end{verbatim}

\section{ä»»å‹™
8ï¼šç†è§£ä½ çœ‹åˆ°çš„æ±è¥¿}\label{ux4efbux52d9-8ux7406ux89e3ux4f60ux770bux5230ux7684ux6771ux897f}

ðŸ“‹ \textbf{æŠŠ \texttt{summary(my\_data)} çš„è¼¸å‡ºè¤‡è£½èµ·ä¾†ï¼ŒåŠ ä¸Šé€™æ®µè©±è²¼çµ¦
AIï¼š}

\begin{quote}
é€™æ˜¯æˆ‘çš„è³‡æ–™æ‘˜è¦ï¼Œè«‹å¹«æˆ‘è§£è®€æ¯å€‹æ¬„ä½çš„æ„ç¾©ï¼Œä»¥åŠæœ‰æ²’æœ‰ä»€éº¼éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼ˆä¾‹å¦‚éºæ¼å€¼ã€ç•°å¸¸å€¼ï¼‰ï¼š
ã€è²¼ä¸Š summary è¼¸å‡ºã€‘
\end{quote}

\subsection{è³‡æ–™æ‘˜è¦è§£è®€}\label{ux8cc7ux6599ux6458ux8981ux89e3ux8b80}

å¾ž \texttt{summary()} çš„è¼¸å‡ºï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°ï¼š

\begin{itemize}
\tightlist
\item
  \textbf{patient\_id}: ç—…äººç·¨è™Ÿï¼Œå¾ž 1 åˆ° 100
\item
  \textbf{treatment}: æ²»ç™‚çµ„åˆ¥ï¼ŒA çµ„å’Œ B çµ„å„ 50 äºº
\item
  \textbf{age}: å¹´é½¡åˆ†ä½ˆï¼Œå¹³å‡ç´„ 47 æ­²
\item
  \textbf{gender}: æ€§åˆ¥åˆ†ä½ˆï¼Œç”·å¥³å„åŠ
\item
  \textbf{los}: ä½é™¢å¤©æ•¸ï¼Œå¹³å‡ç´„ 8 å¤©ï¼ŒB çµ„ä¼¼ä¹Žä½é™¢å¤©æ•¸è¼ƒé•·
\end{itemize}

\subsection{æª¢æŸ¥éºæ¼å€¼}\label{ux6aa2ux67e5ux907aux6f0fux503c}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æª¢æŸ¥æ˜¯å¦æœ‰éºæ¼å€¼}
\FunctionTok{sum}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(my\_data))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŸ¥çœ‹æ¯å€‹æ¬„ä½çš„éºæ¼å€¼æ•¸é‡}
\FunctionTok{colSums}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(my\_data))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
patient_id  treatment        age     gender        los 
         0          0          0          0          0 
\end{verbatim}

\bookmarksetup{startatroot}

\chapter{ç¬¬ä¸‰éƒ¨åˆ†ï¼šç”¢å‡ºä½ çš„ Table
1}\label{ux7b2cux4e09ux90e8ux5206ux7522ux51faux4f60ux7684-table-1}

æœ¬éƒ¨åˆ†é è¨ˆæ™‚é–“ï¼š40 åˆ†é˜

\section{ä»»å‹™ 9ï¼šTable 1
æ˜¯ä»€éº¼ï¼Ÿ}\label{ux4efbux52d9-9table-1-ux662fux4ec0ux9ebc}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
åœ¨é†«å­¸è«–æ–‡è£¡é¢ï¼ŒTable 1
é€šå¸¸æ˜¯ä»€éº¼ï¼Ÿå®ƒçš„ç›®çš„æ˜¯ä»€éº¼ï¼Ÿè£¡é¢é€šå¸¸æœƒæ”¾å“ªäº›æ±è¥¿ï¼Ÿ
\end{quote}

\subsection{Table 1 èªªæ˜Ž}\label{table-1-ux8aaaux660e}

åœ¨é†«å­¸è«–æ–‡ä¸­ï¼ŒTable 1 é€šå¸¸æ˜¯ã€ŒåŸºç·šç‰¹å¾µè¡¨ã€ï¼ˆBaseline Characteristics
Tableï¼‰ï¼Œç”¨ä¾†ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å±•ç¤ºç ”ç©¶å°è±¡çš„åŸºæœ¬ç‰¹å¾µ
\item
  æ¯”è¼ƒä¸åŒçµ„åˆ¥çš„åŸºç·šè³‡æ–™
\item
  è®“è®€è€…åˆ¤æ–·çµ„åˆ¥æ˜¯å¦å¹³è¡¡
\item
  æä¾›ç ”ç©¶æ—ç¾¤çš„æ•´é«”æ¦‚æ³
\end{enumerate}

\section{ä»»å‹™ 10ï¼šä½ çš„ç¬¬ä¸€å€‹ Table
1}\label{ux4efbux52d9-10ux4f60ux7684ux7b2cux4e00ux500b-table-1}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘æœ‰ä¸€å€‹ R è³‡æ–™æ¡†å«åš \texttt{my\_data}ï¼Œè£¡é¢æœ‰é€™äº›æ¬„ä½ï¼š

\begin{itemize}
\tightlist
\item
  treatmentï¼šæ²»ç™‚çµ„åˆ¥ï¼ˆA æˆ– Bï¼‰
\item
  ageï¼šå¹´é½¡
\item
  genderï¼šæ€§åˆ¥ï¼ˆM æˆ– Fï¼‰
\item
  losï¼šä½é™¢å¤©æ•¸
\end{itemize}

è«‹ç”¨ gtsummary å¥—ä»¶å¹«æˆ‘åšä¸€å€‹ Table 1ï¼Œä¾ç…§ treatment
åˆ†çµ„ï¼Œé¡¯ç¤ºå…¶ä»–è®Šæ•¸çš„æè¿°æ€§çµ±è¨ˆã€‚è«‹çµ¦æˆ‘å¯ä»¥ç›´æŽ¥åŸ·è¡Œçš„ç¨‹å¼ç¢¼ã€‚
\end{quote}

\subsection{å»ºç«‹ Table 1}\label{ux5efaux7acb-table-1}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(gtsummary)}
\FunctionTok{library}\NormalTok{(dplyr)}

\CommentTok{\# è®€å–è³‡æ–™}
\NormalTok{my\_data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"patient\_data.csv"}\NormalTok{)}

\CommentTok{\# å»ºç«‹åŸºæœ¬çš„ Table 1}
\NormalTok{table1 }\OtherTok{\textless{}{-}}\NormalTok{ my\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(treatment, age, gender, los) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{tbl\_summary}\NormalTok{(}
    \AttributeTok{by =}\NormalTok{ treatment,}
    \AttributeTok{statistic =} \FunctionTok{list}\NormalTok{(}
      \FunctionTok{all\_continuous}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{mean\} (\{sd\})"}\NormalTok{,}
      \FunctionTok{all\_categorical}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{n\} (\{p\}\%)"}
\NormalTok{    )}
\NormalTok{  )}

\NormalTok{table1}
\end{Highlighting}
\end{Shaded}

\begin{table}
\fontsize{12.0pt}{14.0pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lcc}
\toprule
\textbf{Characteristic} & \textbf{A}  N = 50\textsuperscript{\textit{1}} & \textbf{B}  N = 50\textsuperscript{\textit{1}} \\ 
\midrule\addlinespace[2.5pt]
age & 42 (4) & 56 (5) \\ 
gender &  &  \\ 
Â Â Â Â F & 23 (46\%) & 27 (54\%) \\ 
Â Â Â Â M & 27 (54\%) & 23 (46\%) \\ 
los & 5 (1) & 12 (2) \\ 
\bottomrule
\end{tabular*}
\begin{minipage}{\linewidth}
\textsuperscript{\textit{1}}Mean (SD); n (\%)\\
\end{minipage}
\end{table}

\section{ä»»å‹™
11ï¼šåŠ ä¸Šçµ±è¨ˆæª¢å®š}\label{ux4efbux52d9-11ux52a0ux4e0aux7d71ux8a08ux6aa2ux5b9a}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
å‰›å‰›çš„ Table 1 å¾ˆæ£’ã€‚è«‹å¹«æˆ‘åŠ ä¸Š
p-valueï¼Œè®“æˆ‘å¯ä»¥çœ‹å‡ºå…©çµ„ä¹‹é–“æœ‰æ²’æœ‰çµ±è¨ˆé¡¯è‘—å·®ç•°ã€‚
\end{quote}

\subsection{åŠ å…¥ p-value}\label{ux52a0ux5165-p-value}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å»ºç«‹å« p{-}value çš„ Table 1}
\NormalTok{table1\_with\_p }\OtherTok{\textless{}{-}}\NormalTok{ my\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(treatment, age, gender, los) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{tbl\_summary}\NormalTok{(}
    \AttributeTok{by =}\NormalTok{ treatment,}
    \AttributeTok{statistic =} \FunctionTok{list}\NormalTok{(}
      \FunctionTok{all\_continuous}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{mean\} (\{sd\})"}\NormalTok{,}
      \FunctionTok{all\_categorical}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{n\} (\{p\}\%)"}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{add\_p}\NormalTok{()}

\NormalTok{table1\_with\_p}
\end{Highlighting}
\end{Shaded}

\begin{table}
\fontsize{12.0pt}{14.0pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lccc}
\toprule
\textbf{Characteristic} & \textbf{A}  N = 50\textsuperscript{\textit{1}} & \textbf{B}  N = 50\textsuperscript{\textit{1}} & \textbf{p-value}\textsuperscript{\textit{2}} \\ 
\midrule\addlinespace[2.5pt]
age & 42 (4) & 56 (5) & <0.001 \\ 
gender &  &  & 0.4 \\ 
Â Â Â Â F & 23 (46\%) & 27 (54\%) &  \\ 
Â Â Â Â M & 27 (54\%) & 23 (46\%) &  \\ 
los & 5 (1) & 12 (2) & <0.001 \\ 
\bottomrule
\end{tabular*}
\begin{minipage}{\linewidth}
\textsuperscript{\textit{1}}Mean (SD); n (\%)\\
\textsuperscript{\textit{2}}Wilcoxon rank sum test; Pearson's Chi-squared test\\
\end{minipage}
\end{table}

\section{ä»»å‹™ 12ï¼šçœ‹æ‡‚ gtsummary
çš„é¸æ“‡}\label{ux4efbux52d9-12ux770bux61c2-gtsummary-ux7684ux9078ux64c7}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
gtsummary åœ¨è¨ˆç®— p-value
çš„æ™‚å€™ï¼Œæ˜¯æ€Žéº¼æ±ºå®šè¦ç”¨ä»€éº¼çµ±è¨ˆæ–¹æ³•çš„ï¼Ÿä¾‹å¦‚ï¼Œä»€éº¼æ™‚å€™ç”¨
t-testã€ä»€éº¼æ™‚å€™ç”¨ Wilcoxonã€ä»€éº¼æ™‚å€™ç”¨å¡æ–¹æª¢å®šï¼Ÿ
\end{quote}

\subsection{gtsummary
çš„çµ±è¨ˆæ–¹æ³•é¸æ“‡}\label{gtsummary-ux7684ux7d71ux8a08ux65b9ux6cd5ux9078ux64c7}

gtsummary æœƒæ ¹æ“šè³‡æ–™é¡žåž‹è‡ªå‹•é¸æ“‡é©ç•¶çš„çµ±è¨ˆæª¢å®šï¼š

\begin{itemize}
\tightlist
\item
  \textbf{é€£çºŒè®Šæ•¸}ï¼šé è¨­ä½¿ç”¨ Wilcoxon rank-sum testï¼ˆç„¡æ¯æ•¸æª¢å®šï¼‰
\item
  \textbf{é¡žåˆ¥è®Šæ•¸}ï¼šä½¿ç”¨ Chi-square testï¼ˆå¡æ–¹æª¢å®šï¼‰æˆ– Fisher's exact
  testï¼ˆç•¶æ¨£æœ¬æ•¸å°æ™‚ï¼‰
\end{itemize}

ä½ å¯ä»¥è‡ªè¨‚çµ±è¨ˆæ–¹æ³•ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è‡ªè¨‚çµ±è¨ˆæª¢å®šæ–¹æ³•}
\NormalTok{table1\_custom }\OtherTok{\textless{}{-}}\NormalTok{ my\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(treatment, age, gender, los) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{tbl\_summary}\NormalTok{(}
    \AttributeTok{by =}\NormalTok{ treatment,}
    \AttributeTok{statistic =} \FunctionTok{list}\NormalTok{(}
      \FunctionTok{all\_continuous}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{mean\} (\{sd\})"}\NormalTok{,}
      \FunctionTok{all\_categorical}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{n\} (\{p\}\%)"}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{add\_p}\NormalTok{(}
    \AttributeTok{test =} \FunctionTok{list}\NormalTok{(}
\NormalTok{      age }\SpecialCharTok{\textasciitilde{}} \StringTok{"t.test"}\NormalTok{,        }\CommentTok{\# ä½¿ç”¨ t{-}test}
\NormalTok{      los }\SpecialCharTok{\textasciitilde{}} \StringTok{"wilcox.test"}\NormalTok{,   }\CommentTok{\# ä½¿ç”¨ Wilcoxon test}
\NormalTok{      gender }\SpecialCharTok{\textasciitilde{}} \StringTok{"chisq.test"}  \CommentTok{\# ä½¿ç”¨å¡æ–¹æª¢å®š}
\NormalTok{    )}
\NormalTok{  )}

\NormalTok{table1\_custom}
\end{Highlighting}
\end{Shaded}

\begin{table}
\fontsize{12.0pt}{14.0pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lccc}
\toprule
\textbf{Characteristic} & \textbf{A}  N = 50\textsuperscript{\textit{1}} & \textbf{B}  N = 50\textsuperscript{\textit{1}} & \textbf{p-value}\textsuperscript{\textit{2}} \\ 
\midrule\addlinespace[2.5pt]
age & 42 (4) & 56 (5) & <0.001 \\ 
gender &  &  & 0.5 \\ 
Â Â Â Â F & 23 (46\%) & 27 (54\%) &  \\ 
Â Â Â Â M & 27 (54\%) & 23 (46\%) &  \\ 
los & 5 (1) & 12 (2) & <0.001 \\ 
\bottomrule
\end{tabular*}
\begin{minipage}{\linewidth}
\textsuperscript{\textit{1}}Mean (SD); n (\%)\\
\textsuperscript{\textit{2}}Welch Two Sample t-test; Pearson's Chi-squared test; Wilcoxon rank sum test\\
\end{minipage}
\end{table}

\section{ä»»å‹™
13ï¼šå®¢è£½åŒ–ä½ çš„è¡¨æ ¼}\label{ux4efbux52d9-13ux5ba2ux88fdux5316ux4f60ux7684ux8868ux683c}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘æƒ³è¦ä¿®æ”¹æˆ‘çš„ gtsummary è¡¨æ ¼ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é€£çºŒè®Šæ•¸é¡¯ç¤ºã€Œå¹³å‡å€¼ Â± æ¨™æº–å·®ã€è€Œä¸æ˜¯ä¸­ä½æ•¸
\item
  æŠŠæ¬„ä½åç¨±æ”¹æˆä¸­æ–‡ï¼ˆage â†’ å¹´é½¡ã€gender â†’ æ€§åˆ¥ã€los â†’ ä½é™¢å¤©æ•¸ï¼‰
\item
  p-value å¦‚æžœå°æ–¼ 0.05 å°±ç”¨ç²—é«”æ¨™ç¤º
\end{enumerate}
\end{quote}

\subsection{å®¢è£½åŒ–è¡¨æ ¼}\label{ux5ba2ux88fdux5316ux8868ux683c}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å®¢è£½åŒ– Table 1}
\NormalTok{table1\_final }\OtherTok{\textless{}{-}}\NormalTok{ my\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(treatment, age, gender, los) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{tbl\_summary}\NormalTok{(}
    \AttributeTok{by =}\NormalTok{ treatment,}
    \AttributeTok{label =} \FunctionTok{list}\NormalTok{(}
\NormalTok{      age }\SpecialCharTok{\textasciitilde{}} \StringTok{"å¹´é½¡"}\NormalTok{,}
\NormalTok{      gender }\SpecialCharTok{\textasciitilde{}} \StringTok{"æ€§åˆ¥"}\NormalTok{,}
\NormalTok{      los }\SpecialCharTok{\textasciitilde{}} \StringTok{"ä½é™¢å¤©æ•¸"}
\NormalTok{    ),}
    \AttributeTok{statistic =} \FunctionTok{list}\NormalTok{(}
      \FunctionTok{all\_continuous}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{mean\} Â± \{sd\}"}\NormalTok{,}
      \FunctionTok{all\_categorical}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{n\} (\{p\}\%)"}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{add\_p}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{bold\_p}\NormalTok{(}\AttributeTok{t =} \FloatTok{0.05}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{modify\_header}\NormalTok{(label }\SpecialCharTok{\textasciitilde{}} \StringTok{"**è®Šé …**"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{modify\_spanning\_header}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"stat\_1"}\NormalTok{, }\StringTok{"stat\_2"}\NormalTok{) }\SpecialCharTok{\textasciitilde{}} \StringTok{"**æ²»ç™‚çµ„åˆ¥**"}\NormalTok{)}

\NormalTok{table1\_final}
\end{Highlighting}
\end{Shaded}

\begin{table}
\fontsize{12.0pt}{14.0pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lccc}
\toprule
 & \multicolumn{2}{c}{\textbf{æ²»ç™‚çµ„åˆ¥}} &  \\ 
\cmidrule(lr){2-3}
\textbf{è®Šé …} & \textbf{A}  N = 50\textsuperscript{\textit{1}} & \textbf{B}  N = 50\textsuperscript{\textit{1}} & \textbf{p-value}\textsuperscript{\textit{2}} \\ 
\midrule\addlinespace[2.5pt]
å¹´é½¡ & 42 \ensuremath{\pm} 4 & 56 \ensuremath{\pm} 5 & {\bfseries <0.001} \\ 
æ€§åˆ¥ &  &  & 0.4 \\ 
Â Â Â Â F & 23 (46\%) & 27 (54\%) &  \\ 
Â Â Â Â M & 27 (54\%) & 23 (46\%) &  \\ 
ä½é™¢å¤©æ•¸ & 5 \ensuremath{\pm} 1 & 12 \ensuremath{\pm} 2 & {\bfseries <0.001} \\ 
\bottomrule
\end{tabular*}
\begin{minipage}{\linewidth}
\textsuperscript{\textit{1}}Mean Â± SD; n (\%)\\
\textsuperscript{\textit{2}}Wilcoxon rank sum test; Pearson's Chi-squared test\\
\end{minipage}
\end{table}

\section{ä»»å‹™
14ï¼šåŒ¯å‡ºä½ çš„è¡¨æ ¼}\label{ux4efbux52d9-14ux532fux51faux4f60ux7684ux8868ux683c}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘åšå¥½äº†ä¸€å€‹ gtsummary çš„è¡¨æ ¼ï¼Œå­˜åœ¨è®Šæ•¸ \texttt{my\_table}
è£¡é¢ã€‚æˆ‘æƒ³è¦æŠŠå®ƒè¼¸å‡ºæˆ Word æª”æ¡ˆï¼Œæ–¹ä¾¿è²¼åˆ°æˆ‘çš„è«–æ–‡ã€‚è«‹çµ¦æˆ‘ç¨‹å¼ç¢¼ã€‚
\end{quote}

\subsection{åŒ¯å‡ºè¡¨æ ¼}\label{ux532fux51faux8868ux683c}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å®‰è£å¿…è¦å¥—ä»¶ï¼ˆå¦‚æžœé‚„æ²’å®‰è£ï¼‰}
\CommentTok{\# install.packages("flextable")}

\FunctionTok{library}\NormalTok{(flextable)}

\CommentTok{\# è½‰æ›ç‚º flextable æ ¼å¼ä¸¦å­˜æˆ Word æª”}
\NormalTok{table1\_final }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{as\_flex\_table}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  flextable}\SpecialCharTok{::}\FunctionTok{save\_as\_docx}\NormalTok{(}\AttributeTok{path =} \StringTok{"Table1.docx"}\NormalTok{)}

\FunctionTok{print}\NormalTok{(}\StringTok{"Table 1 å·²æˆåŠŸåŒ¯å‡ºç‚º Table1.docx"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\bookmarksetup{startatroot}

\chapter{ç¬¬å››éƒ¨åˆ†ï¼šç•«å‡ºè«–æ–‡ç­‰ç´šçš„åœ–}\label{ux7b2cux56dbux90e8ux5206ux756bux51faux8ad6ux6587ux7b49ux7d1aux7684ux5716}

æœ¬éƒ¨åˆ†é è¨ˆæ™‚é–“ï¼š40 åˆ†é˜

\section{ä»»å‹™
15ï¼šç¬¬ä¸€å€‹ç›’ç‹€åœ–}\label{ux4efbux52d9-15ux7b2cux4e00ux500bux76d2ux72c0ux5716}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘æœ‰ä¸€å€‹è³‡æ–™æ¡† \texttt{my\_data}ï¼Œè£¡é¢æœ‰ treatmentï¼ˆA æˆ– B å…©çµ„ï¼‰å’Œ
losï¼ˆä½é™¢å¤©æ•¸ï¼‰ã€‚è«‹ç”¨ ggplot2 ç•«ä¸€å€‹ç›’ç‹€åœ–ï¼Œæ¯”è¼ƒå…©çµ„çš„ä½é™¢å¤©æ•¸åˆ†ä½ˆã€‚
\end{quote}

\subsection{åŸºæœ¬ç›’ç‹€åœ–}\label{ux57faux672cux76d2ux72c0ux5716}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ggplot2)}

\CommentTok{\# è®€å–è³‡æ–™}
\NormalTok{my\_data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"patient\_data.csv"}\NormalTok{)}

\CommentTok{\# ç•«åŸºæœ¬ç›’ç‹€åœ–}
\FunctionTok{ggplot}\NormalTok{(my\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ treatment, }\AttributeTok{y =}\NormalTok{ los)) }\SpecialCharTok{+}
  \FunctionTok{geom\_boxplot}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{part4_files/figure-pdf/boxplot-basic-1.pdf}}

\section{ä»»å‹™
16ï¼šè®“åœ–è®Šå°ˆæ¥­}\label{ux4efbux52d9-16ux8b93ux5716ux8b8aux5c08ux696d}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
è«‹å¹«æˆ‘ç¾ŽåŒ–é€™å€‹ç›’ç‹€åœ–ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åŠ ä¸Šæ¨™é¡Œã€Œå…©çµ„æ²»ç™‚çš„ä½é™¢å¤©æ•¸æ¯”è¼ƒã€
\item
  X è»¸æ¨™ç±¤æ”¹æˆã€Œæ²»ç™‚çµ„åˆ¥ã€ï¼ŒY è»¸æ”¹æˆã€Œä½é™¢å¤©æ•¸ï¼ˆå¤©ï¼‰ã€
\item
  å…©çµ„ç”¨ä¸åŒé¡è‰²ï¼ˆè—è‰²å’Œæ©˜è‰²ï¼‰
\item
  ä½¿ç”¨ç°¡æ½”çš„ä¸»é¡Œé¢¨æ ¼
\item
  ä¸è¦é¡¯ç¤ºåœ–ä¾‹ï¼ˆå› ç‚º X è»¸å·²ç¶“èªªæ˜Žäº†ï¼‰
\end{enumerate}
\end{quote}

\subsection{å°ˆæ¥­åŒ–ç›’ç‹€åœ–}\label{ux5c08ux696dux5316ux76d2ux72c0ux5716}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç•«å°ˆæ¥­çš„ç›’ç‹€åœ–}
\FunctionTok{ggplot}\NormalTok{(my\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ treatment, }\AttributeTok{y =}\NormalTok{ los, }\AttributeTok{fill =}\NormalTok{ treatment)) }\SpecialCharTok{+}
  \FunctionTok{geom\_boxplot}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"A"} \OtherTok{=} \StringTok{"steelblue"}\NormalTok{, }\StringTok{"B"} \OtherTok{=} \StringTok{"darkorange"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"å…©çµ„æ²»ç™‚çš„ä½é™¢å¤©æ•¸æ¯”è¼ƒ"}\NormalTok{,}
    \AttributeTok{x =} \StringTok{"æ²»ç™‚çµ„åˆ¥"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"ä½é™¢å¤©æ•¸ï¼ˆå¤©ï¼‰"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{legend.position =} \StringTok{"none"}\NormalTok{,}
    \AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{14}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{, }\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{)}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{part4_files/figure-pdf/boxplot-professional-1.pdf}}

\section{ä»»å‹™
17ï¼šåŠ ä¸Šè³‡æ–™é»ž}\label{ux4efbux52d9-17ux52a0ux4e0aux8cc7ux6599ux9ede}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘æƒ³åœ¨ç›’ç‹€åœ–ä¸Šé¢ç–ŠåŠ å€‹åˆ¥çš„è³‡æ–™é»žï¼Œè®“è®€è€…å¯ä»¥çœ‹åˆ°å¯¦éš›çš„åˆ†ä½ˆã€‚ä½†è³‡æ–™é»žä¸è¦å®Œå…¨é‡ç–Šï¼Œè¦æœ‰ä¸€é»žæ°´å¹³çš„éš¨æ©Ÿæ•£é–‹ã€‚è«‹ä¿®æ”¹ç¨‹å¼ç¢¼ã€‚
\end{quote}

\subsection{åŠ å…¥è³‡æ–™é»žçš„ç›’ç‹€åœ–}\label{ux52a0ux5165ux8cc7ux6599ux9edeux7684ux76d2ux72c0ux5716}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç›’ç‹€åœ–åŠ ä¸Šè³‡æ–™é»ž}
\FunctionTok{ggplot}\NormalTok{(my\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ treatment, }\AttributeTok{y =}\NormalTok{ los, }\AttributeTok{fill =}\NormalTok{ treatment)) }\SpecialCharTok{+}
  \FunctionTok{geom\_boxplot}\NormalTok{(}\AttributeTok{alpha =} \FloatTok{0.7}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_jitter}\NormalTok{(}\AttributeTok{width =} \FloatTok{0.2}\NormalTok{, }\AttributeTok{alpha =} \FloatTok{0.5}\NormalTok{, }\AttributeTok{size =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"A"} \OtherTok{=} \StringTok{"steelblue"}\NormalTok{, }\StringTok{"B"} \OtherTok{=} \StringTok{"darkorange"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"å…©çµ„æ²»ç™‚çš„ä½é™¢å¤©æ•¸æ¯”è¼ƒ"}\NormalTok{,}
    \AttributeTok{x =} \StringTok{"æ²»ç™‚çµ„åˆ¥"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"ä½é™¢å¤©æ•¸ï¼ˆå¤©ï¼‰"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{legend.position =} \StringTok{"none"}\NormalTok{,}
    \AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{14}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{, }\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{)}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{part4_files/figure-pdf/boxplot-with-points-1.pdf}}

\section{ä»»å‹™
18ï¼šå…¶ä»–é¡žåž‹çš„åœ–}\label{ux4efbux52d9-18ux5176ux4ed6ux985eux578bux7684ux5716}

\subsection{é¸é … Aï¼šé•·æ¢åœ–}\label{ux9078ux9805-aux9577ux689dux5716}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ€§åˆ¥åˆ†ä½ˆé•·æ¢åœ–}
\FunctionTok{ggplot}\NormalTok{(my\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ gender, }\AttributeTok{fill =}\NormalTok{ gender)) }\SpecialCharTok{+}
  \FunctionTok{geom\_bar}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"M"} \OtherTok{=} \StringTok{"lightblue"}\NormalTok{, }\StringTok{"F"} \OtherTok{=} \StringTok{"pink"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"æ€§åˆ¥åˆ†ä½ˆ"}\NormalTok{,}
    \AttributeTok{x =} \StringTok{"æ€§åˆ¥"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"äººæ•¸"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{legend.position =} \StringTok{"none"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{part4_files/figure-pdf/barplot-1.pdf}}

\subsection{é¸é … Bï¼šæ•£ä½ˆåœ–}\label{ux9078ux9805-bux6563ux4f48ux5716}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¹´é½¡èˆ‡ä½é™¢å¤©æ•¸æ•£ä½ˆåœ–}
\FunctionTok{ggplot}\NormalTok{(my\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ age, }\AttributeTok{y =}\NormalTok{ los, }\AttributeTok{color =}\NormalTok{ treatment)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{size =} \DecValTok{3}\NormalTok{, }\AttributeTok{alpha =} \FloatTok{0.6}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_smooth}\NormalTok{(}\AttributeTok{method =} \StringTok{"lm"}\NormalTok{, }\AttributeTok{se =} \ConstantTok{TRUE}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_color\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"A"} \OtherTok{=} \StringTok{"steelblue"}\NormalTok{, }\StringTok{"B"} \OtherTok{=} \StringTok{"darkorange"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"å¹´é½¡èˆ‡ä½é™¢å¤©æ•¸çš„é—œä¿‚"}\NormalTok{,}
    \AttributeTok{x =} \StringTok{"å¹´é½¡ï¼ˆæ­²ï¼‰"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"ä½é™¢å¤©æ•¸ï¼ˆå¤©ï¼‰"}\NormalTok{,}
    \AttributeTok{color =} \StringTok{"æ²»ç™‚çµ„åˆ¥"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{part4_files/figure-pdf/scatterplot-1.pdf}}

\subsection{é¸é … Cï¼šç›´æ–¹åœ–}\label{ux9078ux9805-cux76f4ux65b9ux5716}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä½é™¢å¤©æ•¸åˆ†ä½ˆç›´æ–¹åœ–}
\FunctionTok{ggplot}\NormalTok{(my\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ los, }\AttributeTok{fill =}\NormalTok{ treatment)) }\SpecialCharTok{+}
  \FunctionTok{geom\_histogram}\NormalTok{(}\AttributeTok{binwidth =} \DecValTok{2}\NormalTok{, }\AttributeTok{alpha =} \FloatTok{0.7}\NormalTok{, }\AttributeTok{position =} \StringTok{"dodge"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"A"} \OtherTok{=} \StringTok{"steelblue"}\NormalTok{, }\StringTok{"B"} \OtherTok{=} \StringTok{"darkorange"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"ä½é™¢å¤©æ•¸åˆ†ä½ˆ"}\NormalTok{,}
    \AttributeTok{x =} \StringTok{"ä½é™¢å¤©æ•¸ï¼ˆå¤©ï¼‰"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"äººæ•¸"}\NormalTok{,}
    \AttributeTok{fill =} \StringTok{"æ²»ç™‚çµ„åˆ¥"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{part4_files/figure-pdf/histogram-1.pdf}}

\section{ä»»å‹™
19ï¼šå­˜æª”ä½ çš„åœ–}\label{ux4efbux52d9-19ux5b58ux6a94ux4f60ux7684ux5716}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘ç•«å¥½äº†ä¸€å¼µ ggplot2 çš„åœ–ï¼Œæƒ³è¦å­˜æˆ PNG
æª”æ¡ˆï¼Œè§£æžåº¦è¦å¤ é«˜å¯ä»¥æ”¾åœ¨è«–æ–‡è£¡ï¼ˆ300 dpiï¼‰ï¼Œå¤§å°å¤§ç´„æ˜¯ 8 x 6
è‹±å‹ã€‚è«‹çµ¦æˆ‘å­˜æª”çš„ç¨‹å¼ç¢¼ã€‚
\end{quote}

\subsection{å„²å­˜é«˜å“è³ªåœ–æª”}\label{ux5132ux5b58ux9ad8ux54c1ux8ceaux5716ux6a94}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å„²å­˜æœ€å¾Œç•«çš„åœ–}
\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =} \StringTok{"boxplot\_comparison.png"}\NormalTok{,}
  \AttributeTok{width =} \DecValTok{8}\NormalTok{,}
  \AttributeTok{height =} \DecValTok{6}\NormalTok{,}
  \AttributeTok{dpi =} \DecValTok{300}\NormalTok{,}
  \AttributeTok{units =} \StringTok{"in"}
\NormalTok{)}

\FunctionTok{print}\NormalTok{(}\StringTok{"åœ–è¡¨å·²æˆåŠŸå„²å­˜ç‚º boxplot\_comparison.png"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\bookmarksetup{startatroot}

\chapter{ç¬¬äº”éƒ¨åˆ†ï¼šçµ±è¨ˆæª¢å®š}\label{ux7b2cux4e94ux90e8ux5206ux7d71ux8a08ux6aa2ux5b9a}

æœ¬éƒ¨åˆ†é è¨ˆæ™‚é–“ï¼š30 åˆ†é˜

\section{ä»»å‹™ 20ï¼šè®“ AI
é¸æ“‡çµ±è¨ˆæ–¹æ³•}\label{ux4efbux52d9-20ux8b93-ai-ux9078ux64c7ux7d71ux8a08ux65b9ux6cd5}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘æƒ³è¦æ¯”è¼ƒå…©çµ„ç—…äººï¼ˆtreatment A vs
Bï¼‰çš„ä½é™¢å¤©æ•¸ï¼ˆlosï¼‰æœ‰æ²’æœ‰é¡¯è‘—å·®ç•°ã€‚æˆ‘çš„è³‡æ–™å­˜åœ¨ \texttt{my\_data}
è£¡é¢ã€‚

è«‹å¹«æˆ‘ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åˆ¤æ–·æ‡‰è©²ç”¨ä»€éº¼çµ±è¨ˆæ–¹æ³•ï¼ˆç‚ºä»€éº¼ï¼‰
\item
  çµ¦æˆ‘åŸ·è¡Œé€™å€‹æª¢å®šçš„ R ç¨‹å¼ç¢¼
\item
  å‘Šè¨´æˆ‘æ€Žéº¼è§£è®€çµæžœ
\end{enumerate}
\end{quote}

\subsection{çµ±è¨ˆæª¢å®šé¸æ“‡}\label{ux7d71ux8a08ux6aa2ux5b9aux9078ux64c7}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è®€å–è³‡æ–™}
\NormalTok{my\_data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"patient\_data.csv"}\NormalTok{)}

\CommentTok{\# å…ˆæª¢æŸ¥è³‡æ–™åˆ†ä½ˆ}
\FunctionTok{library}\NormalTok{(ggplot2)}

\CommentTok{\# æª¢è¦–åˆ†ä½ˆåœ–}
\FunctionTok{ggplot}\NormalTok{(my\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ los, }\AttributeTok{fill =}\NormalTok{ treatment)) }\SpecialCharTok{+}
  \FunctionTok{geom\_histogram}\NormalTok{(}\AttributeTok{binwidth =} \DecValTok{1}\NormalTok{, }\AttributeTok{alpha =} \FloatTok{0.6}\NormalTok{, }\AttributeTok{position =} \StringTok{"dodge"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{facet\_wrap}\NormalTok{(}\SpecialCharTok{\textasciitilde{}}\NormalTok{treatment, }\AttributeTok{ncol =} \DecValTok{1}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{part5_files/figure-pdf/statistical-test-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¸¸æ…‹æ€§æª¢å®š}
\NormalTok{shapiro\_a }\OtherTok{\textless{}{-}} \FunctionTok{shapiro.test}\NormalTok{(my\_data}\SpecialCharTok{$}\NormalTok{los[my\_data}\SpecialCharTok{$}\NormalTok{treatment }\SpecialCharTok{==} \StringTok{"A"}\NormalTok{])}
\NormalTok{shapiro\_b }\OtherTok{\textless{}{-}} \FunctionTok{shapiro.test}\NormalTok{(my\_data}\SpecialCharTok{$}\NormalTok{los[my\_data}\SpecialCharTok{$}\NormalTok{treatment }\SpecialCharTok{==} \StringTok{"B"}\NormalTok{])}

\FunctionTok{print}\NormalTok{(}\StringTok{"Shapiro{-}Wilk å¸¸æ…‹æ€§æª¢å®šçµæžœï¼š"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "Shapiro-Wilk å¸¸æ…‹æ€§æª¢å®šçµæžœï¼š"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{"A çµ„ p{-}value:"}\NormalTok{, }\FunctionTok{round}\NormalTok{(shapiro\_a}\SpecialCharTok{$}\NormalTok{p.value, }\DecValTok{4}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "A çµ„ p-value: 0.0004"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{"B çµ„ p{-}value:"}\NormalTok{, }\FunctionTok{round}\NormalTok{(shapiro\_b}\SpecialCharTok{$}\NormalTok{p.value, }\DecValTok{4}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "B çµ„ p-value: 0.0829"
\end{verbatim}

\subsection{åŸ·è¡Œçµ±è¨ˆæª¢å®š}\label{ux57f7ux884cux7d71ux8a08ux6aa2ux5b9a}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åŸ·è¡Œ t{-}testï¼ˆå‡è¨­è³‡æ–™ç¬¦åˆå¸¸æ…‹åˆ†ä½ˆï¼‰}
\NormalTok{t\_test\_result }\OtherTok{\textless{}{-}} \FunctionTok{t.test}\NormalTok{(los }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment, }\AttributeTok{data =}\NormalTok{ my\_data)}
\FunctionTok{print}\NormalTok{(t\_test\_result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

    Welch Two Sample t-test

data:  los by treatment
t = -19.12, df = 68.524, p-value < 2.2e-16
alternative hypothesis: true difference in means between group A and group B is not equal to 0
95 percent confidence interval:
 -7.708356 -6.251644
sample estimates:
mean in group A mean in group B 
           4.58           11.56 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åŸ·è¡Œ Wilcoxon rank{-}sum testï¼ˆç„¡æ¯æ•¸æª¢å®šï¼‰}
\NormalTok{wilcox\_result }\OtherTok{\textless{}{-}} \FunctionTok{wilcox.test}\NormalTok{(los }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment, }\AttributeTok{data =}\NormalTok{ my\_data)}
\FunctionTok{print}\NormalTok{(wilcox\_result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

    Wilcoxon rank sum test with continuity correction

data:  los by treatment
W = 0, p-value < 2.2e-16
alternative hypothesis: true location shift is not equal to 0
\end{verbatim}

\section{ä»»å‹™
21ï¼šè§£è®€ä½ çš„çµæžœ}\label{ux4efbux52d9-21ux89e3ux8b80ux4f60ux7684ux7d50ux679c}

ðŸ“‹ \textbf{æŠŠçµ±è¨ˆæª¢å®šçš„è¼¸å‡ºè¤‡è£½èµ·ä¾†ï¼ŒåŠ ä¸Šé€™æ®µè©±è²¼çµ¦ AIï¼š}

\begin{quote}
é€™æ˜¯æˆ‘çš„çµ±è¨ˆæª¢å®šçµæžœï¼š ã€è²¼ä¸Šè¼¸å‡ºã€‘

è«‹ç”¨ç™½è©±æ–‡è§£é‡‹é€™å€‹çµæžœï¼ŒåŒ…æ‹¬ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å…©çµ„æœ‰æ²’æœ‰é¡¯è‘—å·®ç•°
\item
  p-value æ˜¯ä»€éº¼æ„æ€
\item
  é€™å€‹çµæžœåœ¨è‡¨åºŠä¸Šå¯èƒ½ä»£è¡¨ä»€éº¼
\end{enumerate}

å¦å¤–ï¼Œè«‹å¹«æˆ‘ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç”¨ broom å¥—ä»¶çš„ tidy() å‡½æ•¸æŠŠçµ±è¨ˆçµæžœæ•´ç†æˆä¹¾æ·¨çš„è¡¨æ ¼
\item
  ç”¨ capture.output() æˆ– sink() æŠŠæ‰€æœ‰çµæžœå„²å­˜æˆç´”æ–‡å­—æª” report.txt
\item
  ç”¢å‡ºä¸€ä»½å®Œæ•´çš„åˆ†æžå ±å‘Šï¼ŒåŒ…å«æè¿°æ€§çµ±è¨ˆã€æª¢å®šçµæžœã€æ•ˆæ‡‰é‡
\end{enumerate}
\end{quote}

\subsection{çµæžœè§£è®€}\label{ux7d50ux679cux89e3ux8b80}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¼‰å…¥å¿…è¦å¥—ä»¶}
\FunctionTok{library}\NormalTok{(dplyr)}

\CommentTok{\# å®‰è£ä¸¦è¼‰å…¥ broom å¥—ä»¶ï¼ˆç”¨æ–¼æ•´ç†çµ±è¨ˆçµæžœï¼‰}
\ControlFlowTok{if}\NormalTok{ (}\SpecialCharTok{!}\FunctionTok{require}\NormalTok{(broom, }\AttributeTok{quietly =} \ConstantTok{TRUE}\NormalTok{)) \{}
  \FunctionTok{install.packages}\NormalTok{(}\StringTok{"broom"}\NormalTok{, }\AttributeTok{repos =} \StringTok{"https://cloud.r{-}project.org/"}\NormalTok{)}
\NormalTok{\}}
\FunctionTok{library}\NormalTok{(broom)}

\CommentTok{\# å®‰è£ä¸¦è¼‰å…¥ effsize å¥—ä»¶ï¼ˆç”¨æ–¼è¨ˆç®—æ•ˆæ‡‰é‡ï¼‰}
\ControlFlowTok{if}\NormalTok{ (}\SpecialCharTok{!}\FunctionTok{require}\NormalTok{(effsize, }\AttributeTok{quietly =} \ConstantTok{TRUE}\NormalTok{)) \{}
  \FunctionTok{install.packages}\NormalTok{(}\StringTok{"effsize"}\NormalTok{, }\AttributeTok{repos =} \StringTok{"https://cloud.r{-}project.org/"}\NormalTok{)}
\NormalTok{\}}
\FunctionTok{library}\NormalTok{(effsize)}

\CommentTok{\# æ•´ç†çµæžœæ‘˜è¦}
\NormalTok{result\_summary }\OtherTok{\textless{}{-}}\NormalTok{ my\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(treatment) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarise}\NormalTok{(}
    \AttributeTok{n =} \FunctionTok{n}\NormalTok{(),}
    \AttributeTok{mean\_los =} \FunctionTok{mean}\NormalTok{(los),}
    \AttributeTok{sd\_los =} \FunctionTok{sd}\NormalTok{(los),}
    \AttributeTok{median\_los =} \FunctionTok{median}\NormalTok{(los),}
    \AttributeTok{min\_los =} \FunctionTok{min}\NormalTok{(los),}
    \AttributeTok{max\_los =} \FunctionTok{max}\NormalTok{(los)}
\NormalTok{  )}

\FunctionTok{print}\NormalTok{(}\StringTok{"å„çµ„æè¿°æ€§çµ±è¨ˆï¼š"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "å„çµ„æè¿°æ€§çµ±è¨ˆï¼š"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(result\_summary)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 2 x 7
  treatment     n mean_los sd_los median_los min_los max_los
  <chr>     <int>    <dbl>  <dbl>      <dbl>   <int>   <int>
1 A            50     4.58   1.07          5       3       7
2 B            50    11.6    2.35         11       8      17
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä½¿ç”¨ broom::tidy() æ•´ç† t{-}test çµæžœ}
\NormalTok{t\_test\_tidy }\OtherTok{\textless{}{-}} \FunctionTok{tidy}\NormalTok{(t\_test\_result)}
\FunctionTok{print}\NormalTok{(}\StringTok{"T{-}test çµæžœï¼ˆbroom æ•´ç†å¾Œï¼‰ï¼š"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "T-test çµæžœï¼ˆbroom æ•´ç†å¾Œï¼‰ï¼š"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(t\_test\_tidy)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 1 x 10
  estimate estimate1 estimate2 statistic  p.value parameter conf.low conf.high
     <dbl>     <dbl>     <dbl>     <dbl>    <dbl>     <dbl>    <dbl>     <dbl>
1    -6.98      4.58      11.6     -19.1 3.54e-29      68.5    -7.71     -6.25
# i 2 more variables: method <chr>, alternative <chr>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä½¿ç”¨ broom::tidy() æ•´ç† Wilcoxon çµæžœ}
\NormalTok{wilcox\_tidy }\OtherTok{\textless{}{-}} \FunctionTok{tidy}\NormalTok{(wilcox\_result)}
\FunctionTok{print}\NormalTok{(}\StringTok{"Wilcoxon test çµæžœï¼ˆbroom æ•´ç†å¾Œï¼‰ï¼š"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "Wilcoxon test çµæžœï¼ˆbroom æ•´ç†å¾Œï¼‰ï¼š"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(wilcox\_tidy)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 1 x 4
  statistic  p.value method                                          alternative
      <dbl>    <dbl> <chr>                                           <chr>      
1         0 4.63e-18 Wilcoxon rank sum test with continuity correct~ two.sided  
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¨ˆç®—æ•ˆæ‡‰é‡ï¼ˆCohen\textquotesingle{}s dï¼‰}
\NormalTok{cohen\_d }\OtherTok{\textless{}{-}} \FunctionTok{cohen.d}\NormalTok{(los }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment, }\AttributeTok{data =}\NormalTok{ my\_data)}
\FunctionTok{print}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{"æ•ˆæ‡‰é‡ (Cohen\textquotesingle{}s d):"}\NormalTok{, }\FunctionTok{round}\NormalTok{(cohen\_d}\SpecialCharTok{$}\NormalTok{estimate, }\DecValTok{3}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "æ•ˆæ‡‰é‡ (Cohen's d): -3.824"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è§£é‡‹}
\ControlFlowTok{if}\NormalTok{ (t\_test\_result}\SpecialCharTok{$}\NormalTok{p.value }\SpecialCharTok{\textless{}} \FloatTok{0.05}\NormalTok{) \{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"çµè«–ï¼šå…©çµ„åœ¨çµ±è¨ˆä¸Šæœ‰é¡¯è‘—å·®ç•° (p \textless{} 0.05)"}\NormalTok{)}
  \FunctionTok{print}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{"B çµ„çš„å¹³å‡ä½é™¢å¤©æ•¸æ¯” A çµ„å¤šç´„"}\NormalTok{,}
              \FunctionTok{round}\NormalTok{(}\FunctionTok{diff}\NormalTok{(result\_summary}\SpecialCharTok{$}\NormalTok{mean\_los), }\DecValTok{1}\NormalTok{), }\StringTok{"å¤©"}\NormalTok{))}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"çµè«–ï¼šå…©çµ„åœ¨çµ±è¨ˆä¸Šç„¡é¡¯è‘—å·®ç•° (p \textgreater{}= 0.05)"}\NormalTok{)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "çµè«–ï¼šå…©çµ„åœ¨çµ±è¨ˆä¸Šæœ‰é¡¯è‘—å·®ç•° (p < 0.05)"
[1] "B çµ„çš„å¹³å‡ä½é™¢å¤©æ•¸æ¯” A çµ„å¤šç´„ 7 å¤©"
\end{verbatim}

\subsection{ç”¢å‡ºç´”æ–‡å­—å ±å‘Š}\label{ux7522ux51faux7d14ux6587ux5b57ux5831ux544a}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ–¹æ³•ä¸€ï¼šä½¿ç”¨ sink() å°‡æ‰€æœ‰è¼¸å‡ºå°Žå‘æª”æ¡ˆ}
\FunctionTok{sink}\NormalTok{(}\StringTok{"report.txt"}\NormalTok{)}

\FunctionTok{cat}\NormalTok{(}\StringTok{"="} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"        çµ±è¨ˆåˆ†æžå ±å‘Šï¼šå…©çµ„æ²»ç™‚ä½é™¢å¤©æ•¸æ¯”è¼ƒ}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"="} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"å ±å‘Šç”¢ç”Ÿæ™‚é–“ï¼š"}\NormalTok{, }\FunctionTok{format}\NormalTok{(}\FunctionTok{Sys.time}\NormalTok{(), }\StringTok{"\%Y{-}\%m{-}\%d \%H:\%M:\%S"}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n\textbackslash{}n}\StringTok{"}\NormalTok{)}

\FunctionTok{cat}\NormalTok{(}\StringTok{"{-}"} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"ä¸€ã€æè¿°æ€§çµ±è¨ˆ}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"{-}"} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{print}\NormalTok{(result\_summary)}

\FunctionTok{cat}\NormalTok{(}\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"{-}"} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"äºŒã€å¸¸æ…‹æ€§æª¢å®šï¼ˆShapiro{-}Wilk Testï¼‰}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"{-}"} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"A çµ„ p{-}value:"}\NormalTok{, }\FunctionTok{round}\NormalTok{(shapiro\_a}\SpecialCharTok{$}\NormalTok{p.value, }\DecValTok{4}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"B çµ„ p{-}value:"}\NormalTok{, }\FunctionTok{round}\NormalTok{(shapiro\_b}\SpecialCharTok{$}\NormalTok{p.value, }\DecValTok{4}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\ControlFlowTok{if}\NormalTok{ (shapiro\_a}\SpecialCharTok{$}\NormalTok{p.value }\SpecialCharTok{\textgreater{}=} \FloatTok{0.05} \SpecialCharTok{\&}\NormalTok{ shapiro\_b}\SpecialCharTok{$}\NormalTok{p.value }\SpecialCharTok{\textgreater{}=} \FloatTok{0.05}\NormalTok{) \{}
  \FunctionTok{cat}\NormalTok{(}\StringTok{"çµè«–ï¼šå…©çµ„è³‡æ–™å‡ç¬¦åˆå¸¸æ…‹åˆ†ä½ˆå‡è¨­}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
  \FunctionTok{cat}\NormalTok{(}\StringTok{"çµè«–ï¼šè‡³å°‘ä¸€çµ„è³‡æ–™ä¸ç¬¦åˆå¸¸æ…‹åˆ†ä½ˆå‡è¨­}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\NormalTok{\}}

\FunctionTok{cat}\NormalTok{(}\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"{-}"} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"ä¸‰ã€çµ±è¨ˆæª¢å®šçµæžœ}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"{-}"} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}

\FunctionTok{cat}\NormalTok{(}\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{ã€T{-}test çµæžœã€‘}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"æª¢å®šæ–¹æ³•ï¼š"}\NormalTok{, t\_test\_tidy}\SpecialCharTok{$}\NormalTok{method, }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"t çµ±è¨ˆé‡ï¼š"}\NormalTok{, }\FunctionTok{round}\NormalTok{(t\_test\_tidy}\SpecialCharTok{$}\NormalTok{statistic, }\DecValTok{4}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"è‡ªç”±åº¦ï¼š"}\NormalTok{, }\FunctionTok{round}\NormalTok{(t\_test\_tidy}\SpecialCharTok{$}\NormalTok{parameter, }\DecValTok{2}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"p{-}valueï¼š"}\NormalTok{, }\FunctionTok{format}\NormalTok{(t\_test\_tidy}\SpecialCharTok{$}\NormalTok{p.value, }\AttributeTok{digits =} \DecValTok{4}\NormalTok{, }\AttributeTok{scientific =} \ConstantTok{FALSE}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"95\% ä¿¡è³´å€é–“ï¼š["}\NormalTok{, }\FunctionTok{round}\NormalTok{(t\_test\_tidy}\SpecialCharTok{$}\NormalTok{conf.low, }\DecValTok{2}\NormalTok{), }\StringTok{", "}\NormalTok{,}
    \FunctionTok{round}\NormalTok{(t\_test\_tidy}\SpecialCharTok{$}\NormalTok{conf.high, }\DecValTok{2}\NormalTok{), }\StringTok{"]}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"å…©çµ„å¹³å‡å·®ç•°ï¼š"}\NormalTok{, }\FunctionTok{round}\NormalTok{(t\_test\_tidy}\SpecialCharTok{$}\NormalTok{estimate1 }\SpecialCharTok{{-}}\NormalTok{ t\_test\_tidy}\SpecialCharTok{$}\NormalTok{estimate2, }\DecValTok{2}\NormalTok{), }\StringTok{"å¤©}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}

\FunctionTok{cat}\NormalTok{(}\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{ã€Wilcoxon Rank{-}Sum Test çµæžœã€‘}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"æª¢å®šæ–¹æ³•ï¼š"}\NormalTok{, wilcox\_tidy}\SpecialCharTok{$}\NormalTok{method, }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"W çµ±è¨ˆé‡ï¼š"}\NormalTok{, wilcox\_tidy}\SpecialCharTok{$}\NormalTok{statistic, }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"p{-}valueï¼š"}\NormalTok{, }\FunctionTok{format}\NormalTok{(wilcox\_tidy}\SpecialCharTok{$}\NormalTok{p.value, }\AttributeTok{digits =} \DecValTok{4}\NormalTok{, }\AttributeTok{scientific =} \ConstantTok{FALSE}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}

\FunctionTok{cat}\NormalTok{(}\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"{-}"} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"å››ã€æ•ˆæ‡‰é‡}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"{-}"} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"Cohen\textquotesingle{}s dï¼š"}\NormalTok{, }\FunctionTok{round}\NormalTok{(cohen\_d}\SpecialCharTok{$}\NormalTok{estimate, }\DecValTok{3}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"æ•ˆæ‡‰é‡å¤§å°ï¼š"}\NormalTok{, cohen\_d}\SpecialCharTok{$}\NormalTok{magnitude, }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{æ•ˆæ‡‰é‡è§£è®€æ¨™æº–ï¼š}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"  |d| \textless{} 0.2ï¼šå¾®å°æ•ˆæ‡‰}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"  0.2 \textless{}= |d| \textless{} 0.5ï¼šå°æ•ˆæ‡‰}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"  0.5 \textless{}= |d| \textless{} 0.8ï¼šä¸­æ•ˆæ‡‰}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"  |d| \textgreater{}= 0.8ï¼šå¤§æ•ˆæ‡‰}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}

\FunctionTok{cat}\NormalTok{(}\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"{-}"} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"äº”ã€çµè«–}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"{-}"} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\ControlFlowTok{if}\NormalTok{ (t\_test\_result}\SpecialCharTok{$}\NormalTok{p.value }\SpecialCharTok{\textless{}} \FloatTok{0.05}\NormalTok{) \{}
  \FunctionTok{cat}\NormalTok{(}\StringTok{"çµ±è¨ˆçµè«–ï¼šå…©çµ„ä½é™¢å¤©æ•¸æœ‰é¡¯è‘—å·®ç•° (p \textless{} 0.05)}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
  \FunctionTok{cat}\NormalTok{(}\StringTok{"è‡¨åºŠæ„ç¾©ï¼šB çµ„çš„å¹³å‡ä½é™¢å¤©æ•¸æ¯” A çµ„å¤šç´„"}\NormalTok{,}
      \FunctionTok{round}\NormalTok{(}\FunctionTok{diff}\NormalTok{(result\_summary}\SpecialCharTok{$}\NormalTok{mean\_los), }\DecValTok{1}\NormalTok{), }\StringTok{"å¤©}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
  \FunctionTok{cat}\NormalTok{(}\StringTok{"çµ±è¨ˆçµè«–ï¼šå…©çµ„ä½é™¢å¤©æ•¸ç„¡é¡¯è‘—å·®ç•° (p \textgreater{}= 0.05)}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
  \FunctionTok{cat}\NormalTok{(}\StringTok{"è‡¨åºŠæ„ç¾©ï¼šç›®å‰è­‰æ“šä¸è¶³ä»¥è­‰æ˜Žå…©ç¨®æ²»ç™‚åœ¨ä½é™¢å¤©æ•¸ä¸Šæœ‰å·®ç•°}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\NormalTok{\}}

\FunctionTok{cat}\NormalTok{(}\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"="} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"å ±å‘ŠçµæŸ}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\FunctionTok{cat}\NormalTok{(}\StringTok{"="} \SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rep}\NormalTok{(}\DecValTok{60}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{paste}\NormalTok{(}\AttributeTok{collapse =} \StringTok{""}\NormalTok{), }\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}

\FunctionTok{sink}\NormalTok{()  }\CommentTok{\# é—œé–‰ sinkï¼Œæ¢å¾©æ­£å¸¸è¼¸å‡º}

\CommentTok{\# ç¢ºèªæª”æ¡ˆå·²ç”¢ç”Ÿ}
\FunctionTok{cat}\NormalTok{(}\StringTok{"å ±å‘Šå·²å„²å­˜è‡³ report.txt}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å ±å‘Šå·²å„²å­˜è‡³ report.txt
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cat}\NormalTok{(}\StringTok{"æª”æ¡ˆå¤§å°ï¼š"}\NormalTok{, }\FunctionTok{file.info}\NormalTok{(}\StringTok{"report.txt"}\NormalTok{)}\SpecialCharTok{$}\NormalTok{size, }\StringTok{"bytes}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
æª”æ¡ˆå¤§å°ï¼š 2162 bytes
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# é¡¯ç¤ºå ±å‘Šå…§å®¹é è¦½}
\FunctionTok{cat}\NormalTok{(}\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{{-}{-}{-} å ±å‘Šå…§å®¹é è¦½ {-}{-}{-}}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

--- å ±å‘Šå…§å®¹é è¦½ ---
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cat}\NormalTok{(}\FunctionTok{readLines}\NormalTok{(}\StringTok{"report.txt"}\NormalTok{, }\AttributeTok{n =} \DecValTok{20}\NormalTok{), }\AttributeTok{sep =} \StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
============================================================ 
        çµ±è¨ˆåˆ†æžå ±å‘Šï¼šå…©çµ„æ²»ç™‚ä½é™¢å¤©æ•¸æ¯”è¼ƒ
============================================================ 
å ±å‘Šç”¢ç”Ÿæ™‚é–“ï¼š 2025-12-05 20:51:41 

------------------------------------------------------------ 
ä¸€ã€æè¿°æ€§çµ±è¨ˆ
------------------------------------------------------------ 
# A tibble: 2 x 7
  treatment     n mean_los sd_los median_los min_los max_los
  <chr>     <int>    <dbl>  <dbl>      <dbl>   <int>   <int>
1 A            50     4.58   1.07          5       3       7
2 B            50    11.6    2.35         11       8      17

------------------------------------------------------------ 
äºŒã€å¸¸æ…‹æ€§æª¢å®šï¼ˆShapiro-Wilk Testï¼‰
------------------------------------------------------------ 
A çµ„ p-value: 0.0004 
B çµ„ p-value: 0.0829 
çµè«–ï¼šè‡³å°‘ä¸€çµ„è³‡æ–™ä¸ç¬¦åˆå¸¸æ…‹åˆ†ä½ˆå‡è¨­
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cat}\NormalTok{(}\StringTok{"...}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
...
\end{verbatim}

\section{ä»»å‹™
22ï¼šæª¢æŸ¥å‡è¨­}\label{ux4efbux52d9-22ux6aa2ux67e5ux5047ux8a2d}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
å‰›å‰›çš„çµ±è¨ˆæª¢å®šæœ‰ä»€éº¼å‰æå‡è¨­ï¼Ÿæˆ‘è¦æ€Žéº¼ç”¨ R
æª¢æŸ¥æˆ‘çš„è³‡æ–™æœ‰æ²’æœ‰ç¬¦åˆé€™äº›å‡è¨­ï¼Ÿå¦‚æžœä¸ç¬¦åˆï¼Œæœ‰ä»€éº¼æ›¿ä»£æ–¹æ³•ï¼Ÿ
\end{quote}

\subsection{å‡è¨­æª¢é©—}\label{ux5047ux8a2dux6aa2ux9a57}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 1. æª¢æŸ¥å¸¸æ…‹æ€§}
\ControlFlowTok{if}\NormalTok{ (}\SpecialCharTok{!}\FunctionTok{require}\NormalTok{(car, }\AttributeTok{quietly =} \ConstantTok{TRUE}\NormalTok{)) \{}
  \FunctionTok{install.packages}\NormalTok{(}\StringTok{"car"}\NormalTok{, }\AttributeTok{repos =} \StringTok{"https://cloud.r{-}project.org/"}\NormalTok{)}
  \FunctionTok{library}\NormalTok{(car)}
\NormalTok{\}}

\CommentTok{\# Q{-}Q plot}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mfrow =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{))}
\FunctionTok{qqnorm}\NormalTok{(my\_data}\SpecialCharTok{$}\NormalTok{los[my\_data}\SpecialCharTok{$}\NormalTok{treatment }\SpecialCharTok{==} \StringTok{"A"}\NormalTok{], }\AttributeTok{main =} \StringTok{"Q{-}Q Plot: Treatment A"}\NormalTok{)}
\FunctionTok{qqline}\NormalTok{(my\_data}\SpecialCharTok{$}\NormalTok{los[my\_data}\SpecialCharTok{$}\NormalTok{treatment }\SpecialCharTok{==} \StringTok{"A"}\NormalTok{])}

\FunctionTok{qqnorm}\NormalTok{(my\_data}\SpecialCharTok{$}\NormalTok{los[my\_data}\SpecialCharTok{$}\NormalTok{treatment }\SpecialCharTok{==} \StringTok{"B"}\NormalTok{], }\AttributeTok{main =} \StringTok{"Q{-}Q Plot: Treatment B"}\NormalTok{)}
\FunctionTok{qqline}\NormalTok{(my\_data}\SpecialCharTok{$}\NormalTok{los[my\_data}\SpecialCharTok{$}\NormalTok{treatment }\SpecialCharTok{==} \StringTok{"B"}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{part5_files/figure-pdf/check-assumptions-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 2. æª¢æŸ¥è®Šç•°æ•¸åŒè³ªæ€§}
\NormalTok{levene\_result }\OtherTok{\textless{}{-}} \FunctionTok{leveneTest}\NormalTok{(los }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment, }\AttributeTok{data =}\NormalTok{ my\_data)}
\FunctionTok{print}\NormalTok{(}\StringTok{"Levene\textquotesingle{}s Test for Homogeneity of Variance:"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "Levene's Test for Homogeneity of Variance:"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(levene\_result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Levene's Test for Homogeneity of Variance (center = median)
      Df F value    Pr(>F)    
group  1  21.224 0.0000123 ***
      98                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 3. æ ¹æ“šå‡è¨­æª¢é©—çµæžœé¸æ“‡é©ç•¶æ–¹æ³•}
\ControlFlowTok{if}\NormalTok{ (shapiro\_a}\SpecialCharTok{$}\NormalTok{p.value }\SpecialCharTok{\textless{}} \FloatTok{0.05} \SpecialCharTok{|}\NormalTok{ shapiro\_b}\SpecialCharTok{$}\NormalTok{p.value }\SpecialCharTok{\textless{}} \FloatTok{0.05}\NormalTok{) \{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"å»ºè­°ï¼šè³‡æ–™ä¸ç¬¦åˆå¸¸æ…‹åˆ†ä½ˆï¼Œæ‡‰ä½¿ç”¨ Wilcoxon rank{-}sum test"}\NormalTok{)}
\NormalTok{\} }\ControlFlowTok{else} \ControlFlowTok{if}\NormalTok{ (levene\_result}\SpecialCharTok{$}\StringTok{\textasciigrave{}}\AttributeTok{Pr(\textgreater{}F)}\StringTok{\textasciigrave{}}\NormalTok{[}\DecValTok{1}\NormalTok{] }\SpecialCharTok{\textless{}} \FloatTok{0.05}\NormalTok{) \{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"å»ºè­°ï¼šè®Šç•°æ•¸ä¸åŒè³ªï¼Œæ‡‰ä½¿ç”¨ Welch\textquotesingle{}s t{-}test"}\NormalTok{)}
\NormalTok{  welch\_result }\OtherTok{\textless{}{-}} \FunctionTok{t.test}\NormalTok{(los }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment, }\AttributeTok{data =}\NormalTok{ my\_data, }\AttributeTok{var.equal =} \ConstantTok{FALSE}\NormalTok{)}
  \FunctionTok{print}\NormalTok{(welch\_result)}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"å»ºè­°ï¼šè³‡æ–™ç¬¦åˆæ‰€æœ‰å‡è¨­ï¼Œå¯ä½¿ç”¨ Student\textquotesingle{}s t{-}test"}\NormalTok{)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "å»ºè­°ï¼šè³‡æ–™ä¸ç¬¦åˆå¸¸æ…‹åˆ†ä½ˆï¼Œæ‡‰ä½¿ç”¨ Wilcoxon rank-sum test"
\end{verbatim}

\section{ä»»å‹™
23ï¼šé¡žåˆ¥è®Šæ•¸çš„æ¯”è¼ƒ}\label{ux4efbux52d9-23ux985eux5225ux8b8aux6578ux7684ux6bd4ux8f03}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘æƒ³è¦çœ‹ treatmentï¼ˆA vs Bï¼‰å’Œ genderï¼ˆM vs Fï¼‰æœ‰æ²’æœ‰é—œè¯ã€‚ä¹Ÿå°±æ˜¯èªªï¼ŒA
çµ„å’Œ B çµ„çš„ç”·å¥³æ¯”ä¾‹æœ‰æ²’æœ‰ä¸åŒã€‚

è«‹çµ¦æˆ‘é©ç•¶çš„çµ±è¨ˆæª¢å®šç¨‹å¼ç¢¼ï¼Œä¸¦æ•™æˆ‘æ€Žéº¼è§£è®€ã€‚
\end{quote}

\subsection{é¡žåˆ¥è®Šæ•¸æª¢å®š}\label{ux985eux5225ux8b8aux6578ux6aa2ux5b9a}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å»ºç«‹åˆ—è¯è¡¨}
\NormalTok{contingency\_table }\OtherTok{\textless{}{-}} \FunctionTok{table}\NormalTok{(my\_data}\SpecialCharTok{$}\NormalTok{treatment, my\_data}\SpecialCharTok{$}\NormalTok{gender)}
\FunctionTok{print}\NormalTok{(}\StringTok{"åˆ—è¯è¡¨ï¼š"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "åˆ—è¯è¡¨ï¼š"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(contingency\_table)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   
     F  M
  A 23 27
  B 27 23
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åŠ ä¸Šæ¯”ä¾‹}
\NormalTok{prop\_table }\OtherTok{\textless{}{-}} \FunctionTok{prop.table}\NormalTok{(contingency\_table, }\AttributeTok{margin =} \DecValTok{1}\NormalTok{) }\SpecialCharTok{*} \DecValTok{100}
\FunctionTok{print}\NormalTok{(}\StringTok{"å„çµ„æ€§åˆ¥æ¯”ä¾‹ï¼ˆ\%ï¼‰ï¼š"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "å„çµ„æ€§åˆ¥æ¯”ä¾‹ï¼ˆ%ï¼‰ï¼š"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(}\FunctionTok{round}\NormalTok{(prop\_table, }\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
   
     F  M
  A 46 54
  B 54 46
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åŸ·è¡Œå¡æ–¹æª¢å®š}
\NormalTok{chisq\_result }\OtherTok{\textless{}{-}} \FunctionTok{chisq.test}\NormalTok{(contingency\_table)}
\FunctionTok{print}\NormalTok{(}\StringTok{"å¡æ–¹æª¢å®šçµæžœï¼š"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "å¡æ–¹æª¢å®šçµæžœï¼š"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(chisq\_result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

    Pearson's Chi-squared test with Yates' continuity correction

data:  contingency_table
X-squared = 0.36, df = 1, p-value = 0.5485
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Fisher\textquotesingle{}s exact testï¼ˆé©ç”¨æ–¼å°æ¨£æœ¬ï¼‰}
\NormalTok{fisher\_result }\OtherTok{\textless{}{-}} \FunctionTok{fisher.test}\NormalTok{(contingency\_table)}
\FunctionTok{print}\NormalTok{(}\StringTok{"Fisher\textquotesingle{}s exact testï¼š"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "Fisher's exact testï¼š"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(fisher\_result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

    Fisher's Exact Test for Count Data

data:  contingency_table
p-value = 0.5487
alternative hypothesis: true odds ratio is not equal to 1
95 percent confidence interval:
 0.3068457 1.7125734
sample estimates:
odds ratio 
 0.7280058 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è§£è®€çµæžœ}
\ControlFlowTok{if}\NormalTok{ (chisq\_result}\SpecialCharTok{$}\NormalTok{p.value }\SpecialCharTok{\textless{}} \FloatTok{0.05}\NormalTok{) \{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"çµè«–ï¼šå…©çµ„çš„æ€§åˆ¥åˆ†ä½ˆæœ‰é¡¯è‘—å·®ç•°"}\NormalTok{)}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"çµè«–ï¼šå…©çµ„çš„æ€§åˆ¥åˆ†ä½ˆç„¡é¡¯è‘—å·®ç•°"}\NormalTok{)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "çµè«–ï¼šå…©çµ„çš„æ€§åˆ¥åˆ†ä½ˆç„¡é¡¯è‘—å·®ç•°"
\end{verbatim}

\section{ä»»å‹™ 24ï¼šå­˜æ´»åˆ†æž (Survival
Analysis)}\label{ux4efbux52d9-24ux5b58ux6d3bux5206ux6790-survival-analysis}

åœ¨è‡¨åºŠç ”ç©¶ä¸­ï¼Œæˆ‘å€‘ç¶“å¸¸éœ€è¦åˆ†æžã€Œæ™‚é–“åˆ°äº‹ä»¶ã€çš„è³‡æ–™ï¼Œä¾‹å¦‚ï¼š

\begin{itemize}
\tightlist
\item
  ç—…äººå¾žè¨ºæ–·åˆ°æ­»äº¡çš„æ™‚é–“
\item
  å¾žæ²»ç™‚é–‹å§‹åˆ°ç–¾ç—…å¾©ç™¼çš„æ™‚é–“
\item
  å¾žæ‰‹è¡“åˆ°å†ä½é™¢çš„æ™‚é–“
\end{itemize}

é€™é¡žåˆ†æžç¨±ç‚º \textbf{å­˜æ´»åˆ†æž (Survival
Analysis)}ï¼Œæ˜¯è‡¨åºŠç ”ç©¶ä¸­éžå¸¸é‡è¦çš„çµ±è¨ˆæ–¹æ³•ã€‚

\subsection{å­˜æ´»åˆ†æžçš„ç‰¹æ®Šä¹‹è™•}\label{ux5b58ux6d3bux5206ux6790ux7684ux7279ux6b8aux4e4bux8655}

å­˜æ´»åˆ†æžè³‡æ–™æœ‰ä¸€å€‹ç‰¹é»žï¼š\textbf{è¨­é™ (Censoring)}

\begin{itemize}
\tightlist
\item
  æœ‰äº›ç—…äººåœ¨ç ”ç©¶çµæŸæ™‚é‚„æ´»è‘—ï¼ˆæˆ‘å€‘ä¸çŸ¥é“ä»–å€‘æœ€çµ‚æœƒæ´»å¤šä¹…ï¼‰
\item
  æœ‰äº›ç—…äººä¸­é€”å¤±è¯ï¼ˆlost to follow-upï¼‰
\item
  é€™äº›ã€Œä¸å®Œæ•´ã€çš„è§€å¯Ÿå€¼ä¸èƒ½ç›´æŽ¥ä¸ŸæŽ‰ï¼Œéœ€è¦ç‰¹æ®Šè™•ç†
\end{itemize}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘æœ‰ä¸€å€‹å­˜æ´»åˆ†æžçš„è³‡æ–™é›†
\texttt{patient\_data\_for\_survival.csv}ï¼ŒåŒ…å«ï¼š

\begin{itemize}
\tightlist
\item
  patient\_idï¼šç—…äººç·¨è™Ÿ
\item
  treatmentï¼šæ²»ç™‚çµ„åˆ¥ï¼ˆDrug\_A vs Drug\_Bï¼‰
\item
  ageï¼šå¹´é½¡
\item
  genderï¼šæ€§åˆ¥
\item
  stageï¼šç™Œç—‡æœŸåˆ¥ï¼ˆI-IVï¼‰
\item
  timeï¼šè¿½è¹¤æ™‚é–“ï¼ˆæœˆï¼‰
\item
  statusï¼šäº‹ä»¶ç‹€æ…‹ï¼ˆ1=æ­»äº¡ï¼Œ0=å­˜æ´»/è¨­é™ï¼‰
\end{itemize}

è«‹å¹«æˆ‘ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç”¨ survival å¥—ä»¶åš Kaplan-Meier å­˜æ´»æ›²ç·š
\item
  æ¯”è¼ƒå…©å€‹æ²»ç™‚çµ„çš„å­˜æ´»çŽ‡æœ‰æ²’æœ‰å·®ç•°ï¼ˆlog-rank testï¼‰
\item
  ç•«å‡ºæ¼‚äº®çš„å­˜æ´»æ›²ç·šåœ–
\end{enumerate}
\end{quote}

\subsection{è®€å–å­˜æ´»åˆ†æžè³‡æ–™}\label{ux8b80ux53d6ux5b58ux6d3bux5206ux6790ux8cc7ux6599}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è®€å–å­˜æ´»åˆ†æžè³‡æ–™}
\NormalTok{survival\_data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"patient\_data\_for\_survival.csv"}\NormalTok{)}

\CommentTok{\# æª¢è¦–è³‡æ–™çµæ§‹}
\FunctionTok{str}\NormalTok{(survival\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
'data.frame':   100 obs. of  7 variables:
 $ patient_id: int  1 2 3 4 5 6 7 8 9 10 ...
 $ treatment : chr  "Drug_A" "Drug_B" "Drug_B" "Drug_B" ...
 $ age       : int  64 45 58 73 64 73 68 50 52 59 ...
 $ gender    : chr  "F" "F" "M" "M" ...
 $ stage     : chr  "III" "III" "II" "I" ...
 $ time      : num  7.8 16.9 17.7 32.2 22 2.4 2.2 36 1.9 12.1 ...
 $ status    : int  1 1 1 1 1 1 1 0 0 1 ...
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŸ¥çœ‹å‰å¹¾ç­†}
\FunctionTok{head}\NormalTok{(survival\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
  patient_id treatment age gender stage time status
1          1    Drug_A  64      F   III  7.8      1
2          2    Drug_B  45      F   III 16.9      1
3          3    Drug_B  58      M    II 17.7      1
4          4    Drug_B  73      M     I 32.2      1
5          5    Drug_A  64      M    II 22.0      1
6          6    Drug_A  73      F   III  2.4      1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç¢ºèªäº‹ä»¶åˆ†ä½ˆ}
\FunctionTok{table}\NormalTok{(survival\_data}\SpecialCharTok{$}\NormalTok{treatment, survival\_data}\SpecialCharTok{$}\NormalTok{status)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
        
          0  1
  Drug_A 16 36
  Drug_B 15 33
\end{verbatim}

\subsection{Kaplan-Meier
å­˜æ´»åˆ†æž}\label{kaplan-meier-ux5b58ux6d3bux5206ux6790}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å®‰è£ä¸¦è¼‰å…¥å¿…è¦å¥—ä»¶}
\ControlFlowTok{if}\NormalTok{ (}\SpecialCharTok{!}\FunctionTok{require}\NormalTok{(survival, }\AttributeTok{quietly =} \ConstantTok{TRUE}\NormalTok{)) \{}
  \FunctionTok{install.packages}\NormalTok{(}\StringTok{"survival"}\NormalTok{, }\AttributeTok{repos =} \StringTok{"https://cloud.r{-}project.org/"}\NormalTok{)}
\NormalTok{\}}
\ControlFlowTok{if}\NormalTok{ (}\SpecialCharTok{!}\FunctionTok{require}\NormalTok{(ggsurvfit, }\AttributeTok{quietly =} \ConstantTok{TRUE}\NormalTok{)) \{}
  \FunctionTok{install.packages}\NormalTok{(}\StringTok{"ggsurvfit"}\NormalTok{, }\AttributeTok{repos =} \StringTok{"https://cloud.r{-}project.org/"}\NormalTok{)}
\NormalTok{\}}

\FunctionTok{library}\NormalTok{(survival)}
\FunctionTok{library}\NormalTok{(ggsurvfit)}

\CommentTok{\# å»ºç«‹å­˜æ´»ç‰©ä»¶}
\CommentTok{\# Surv(time, status) æœƒå»ºç«‹ä¸€å€‹å­˜æ´»æ™‚é–“ç‰©ä»¶}
\CommentTok{\# time = è¿½è¹¤æ™‚é–“, status = äº‹ä»¶æ˜¯å¦ç™¼ç”Ÿ (1=æ˜¯, 0=å¦/è¨­é™)}
\NormalTok{surv\_obj }\OtherTok{\textless{}{-}} \FunctionTok{Surv}\NormalTok{(}\AttributeTok{time =}\NormalTok{ survival\_data}\SpecialCharTok{$}\NormalTok{time, }\AttributeTok{event =}\NormalTok{ survival\_data}\SpecialCharTok{$}\NormalTok{status)}

\CommentTok{\# çœ‹çœ‹å­˜æ´»ç‰©ä»¶é•·ä»€éº¼æ¨£å­}
\FunctionTok{head}\NormalTok{(surv\_obj, }\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
 [1]  7.8  16.9  17.7  32.2  22.0   2.4   2.2  36.0+  1.9+ 12.1 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ³¨æ„ï¼šæ•¸å­—å¾Œé¢çš„ "+" è¡¨ç¤ºè©²è§€å¯Ÿå€¼æ˜¯ censoredï¼ˆè¨­é™ï¼‰}
\end{Highlighting}
\end{Shaded}

\subsection{ç¹ªè£½ Kaplan-Meier
å­˜æ´»æ›²ç·š}\label{ux7e6aux88fd-kaplan-meier-ux5b58ux6d3bux66f2ux7dda}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä½¿ç”¨ ggsurvfit ç¹ªè£½å­˜æ´»æ›²ç·š}
\CommentTok{\# survfit2() æ˜¯ ggsurvfit çš„å°ˆç”¨å‡½æ•¸ï¼Œå¯ä»¥æ›´å¥½åœ°è¿½è¹¤è®Šæ•¸åç¨±}
\FunctionTok{survfit2}\NormalTok{(}\FunctionTok{Surv}\NormalTok{(time, status) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment, }\AttributeTok{data =}\NormalTok{ survival\_data) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{ggsurvfit}\NormalTok{(}\AttributeTok{linewidth =} \DecValTok{1}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{add\_confidence\_interval}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{add\_risktable}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{add\_pvalue}\NormalTok{(}\AttributeTok{caption =} \StringTok{"Log{-}rank \{p.value\}"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{add\_quantile}\NormalTok{(}\AttributeTok{y\_value =} \FloatTok{0.5}\NormalTok{, }\AttributeTok{linetype =} \StringTok{"dashed"}\NormalTok{, }\AttributeTok{color =} \StringTok{"gray50"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_color\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"\#E7B800"}\NormalTok{, }\StringTok{"\#2E9FDF"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"\#E7B800"}\NormalTok{, }\StringTok{"\#2E9FDF"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{x =} \StringTok{"è¿½è¹¤æ™‚é–“ï¼ˆæœˆï¼‰"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"å­˜æ´»æ©ŸçŽ‡"}\NormalTok{,}
    \AttributeTok{title =} \StringTok{"Kaplan{-}Meier å­˜æ´»æ›²ç·šï¼šDrug A vs Drug B"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{legend.position =} \StringTok{"bottom"}\NormalTok{,}
    \AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{)}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{part5_files/figure-pdf/survival-km-plot-1.pdf}}

\subsection{æŸ¥çœ‹å­˜æ´»çŽ‡æ‘˜è¦}\label{ux67e5ux770bux5b58ux6d3bux7387ux6458ux8981}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä¾ç…§æ²»ç™‚çµ„åˆ¥åš Kaplan{-}Meier åˆ†æž}
\NormalTok{km\_fit }\OtherTok{\textless{}{-}} \FunctionTok{survfit}\NormalTok{(}\FunctionTok{Surv}\NormalTok{(time, status) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment, }\AttributeTok{data =}\NormalTok{ survival\_data)}

\CommentTok{\# æŸ¥çœ‹æ‘˜è¦ï¼ˆ6å€‹æœˆã€12å€‹æœˆã€24å€‹æœˆçš„å­˜æ´»çŽ‡ï¼‰}
\FunctionTok{summary}\NormalTok{(km\_fit, }\AttributeTok{times =} \FunctionTok{c}\NormalTok{(}\DecValTok{6}\NormalTok{, }\DecValTok{12}\NormalTok{, }\DecValTok{24}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Call: survfit(formula = Surv(time, status) ~ treatment, data = survival_data)

                treatment=Drug_A 
 time n.risk n.event survival std.err lower 95% CI upper 95% CI
    6     40       9    0.823  0.0536        0.725        0.935
   12     30       9    0.634  0.0690        0.512        0.785
   24     19      11    0.402  0.0709        0.284        0.568

                treatment=Drug_B 
 time n.risk n.event survival std.err lower 95% CI upper 95% CI
    6     34      13    0.724  0.0651        0.607        0.864
   12     27       7    0.575  0.0721        0.450        0.735
   24     19       8    0.405  0.0716        0.286        0.573
\end{verbatim}

\subsection{Log-Rank
Testï¼šæ¯”è¼ƒå…©çµ„å­˜æ´»çŽ‡}\label{log-rank-testux6bd4ux8f03ux5169ux7d44ux5b58ux6d3bux7387}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Log{-}rank testï¼ˆæœ€å¸¸ç”¨çš„å­˜æ´»æ›²ç·šæ¯”è¼ƒæ–¹æ³•ï¼‰}
\NormalTok{logrank\_test }\OtherTok{\textless{}{-}} \FunctionTok{survdiff}\NormalTok{(}\FunctionTok{Surv}\NormalTok{(time, status) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment, }\AttributeTok{data =}\NormalTok{ survival\_data)}
\FunctionTok{print}\NormalTok{(logrank\_test)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Call:
survdiff(formula = Surv(time, status) ~ treatment, data = survival_data)

                  N Observed Expected (O-E)^2/E (O-E)^2/V
treatment=Drug_A 52       36     35.1    0.0219    0.0451
treatment=Drug_B 48       33     33.9    0.0228    0.0451

 Chisq= 0  on 1 degrees of freedom, p= 0.8 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æå– p{-}value}
\NormalTok{logrank\_pvalue }\OtherTok{\textless{}{-}} \DecValTok{1} \SpecialCharTok{{-}} \FunctionTok{pchisq}\NormalTok{(logrank\_test}\SpecialCharTok{$}\NormalTok{chisq, }\FunctionTok{length}\NormalTok{(logrank\_test}\SpecialCharTok{$}\NormalTok{n) }\SpecialCharTok{{-}} \DecValTok{1}\NormalTok{)}
\FunctionTok{print}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{"Log{-}rank test p{-}value:"}\NormalTok{, }\FunctionTok{round}\NormalTok{(logrank\_pvalue, }\DecValTok{4}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "Log-rank test p-value: 0.8319"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è§£è®€çµæžœ}
\ControlFlowTok{if}\NormalTok{ (logrank\_pvalue }\SpecialCharTok{\textless{}} \FloatTok{0.05}\NormalTok{) \{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"çµè«–ï¼šå…©çµ„çš„å­˜æ´»æ›²ç·šæœ‰é¡¯è‘—å·®ç•° (p \textless{} 0.05)"}\NormalTok{)}
\NormalTok{\} }\ControlFlowTok{else}\NormalTok{ \{}
  \FunctionTok{print}\NormalTok{(}\StringTok{"çµè«–ï¼šå…©çµ„çš„å­˜æ´»æ›²ç·šç„¡é¡¯è‘—å·®ç•° (p \textgreater{}= 0.05)"}\NormalTok{)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "çµè«–ï¼šå…©çµ„çš„å­˜æ´»æ›²ç·šç„¡é¡¯è‘—å·®ç•° (p >= 0.05)"
\end{verbatim}

\subsection{è¨ˆç®—ä¸­ä½å­˜æ´»æ™‚é–“}\label{ux8a08ux7b97ux4e2dux4f4dux5b58ux6d3bux6642ux9593}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¨ˆç®—å„çµ„çš„ä¸­ä½å­˜æ´»æ™‚é–“}
\FunctionTok{print}\NormalTok{(}\StringTok{"å„çµ„ä¸­ä½å­˜æ´»æ™‚é–“ï¼ˆæœˆï¼‰ï¼š"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1] "å„çµ„ä¸­ä½å­˜æ´»æ™‚é–“ï¼ˆæœˆï¼‰ï¼š"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{print}\NormalTok{(km\_fit)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Call: survfit(formula = Surv(time, status) ~ treatment, data = survival_data)

                  n events median 0.95LCL 0.95UCL
treatment=Drug_A 52     36   17.5    12.1    27.9
treatment=Drug_B 48     33   17.7     9.0    32.2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä½¿ç”¨ ggsurvfit çš„ tidy æ–¹å¼å‘ˆç¾}
\FunctionTok{survfit2}\NormalTok{(}\FunctionTok{Surv}\NormalTok{(time, status) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment, }\AttributeTok{data =}\NormalTok{ survival\_data) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{tidy\_survfit}\NormalTok{() }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{head}\NormalTok{(}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
# A tibble: 10 x 16
    time n.risk n.event n.censor cum.event cum.censor estimate std.error
   <dbl>  <dbl>   <dbl>    <dbl>     <dbl>      <dbl>    <dbl>     <dbl>
 1   0       52       0        0         0          0    1        0     
 2   0.5     52       2        0         2          0    0.962    0.0277
 3   0.7     50       2        0         4          0    0.923    0.0400
 4   1.3     48       0        1         4          1    0.923    0.0400
 5   1.8     47       1        0         5          1    0.903    0.0454
 6   2       46       0        1         5          2    0.903    0.0454
 7   2.4     45       1        0         6          2    0.883    0.0507
 8   2.9     44       1        0         7          2    0.863    0.0557
 9   3.1     43       1        0         8          2    0.843    0.0604
10   5.5     42       1        0         9          2    0.823    0.0651
# i 8 more variables: conf.high <dbl>, conf.low <dbl>, strata <fct>,
#   estimate_type <chr>, estimate_type_label <chr>, monotonicity_type <chr>,
#   strata_label <chr>, conf.level <dbl>
\end{verbatim}

\subsection{é€²éšŽï¼šCox
æ¯”ä¾‹é¢¨éšªæ¨¡åž‹}\label{ux9032ux968ecox-ux6bd4ux4f8bux98a8ux96aaux6a21ux578b}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘æƒ³è¦åšæ›´é€²éšŽçš„å­˜æ´»åˆ†æžï¼Œè€ƒæ…®å¤šå€‹è®Šæ•¸ï¼ˆæ²»ç™‚ã€å¹´é½¡ã€æ€§åˆ¥ã€æœŸåˆ¥ï¼‰å°å­˜æ´»çš„å½±éŸ¿ã€‚è«‹å¹«æˆ‘ç”¨
Cox proportional hazards model åˆ†æžï¼Œä¸¦è§£é‡‹ Hazard Ratio çš„æ„ç¾©ã€‚
\end{quote}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Cox æ¯”ä¾‹é¢¨éšªæ¨¡åž‹}
\CommentTok{\# å¯ä»¥åŒæ™‚è€ƒæ…®å¤šå€‹è®Šæ•¸å°å­˜æ´»çš„å½±éŸ¿}
\NormalTok{cox\_model }\OtherTok{\textless{}{-}} \FunctionTok{coxph}\NormalTok{(}
  \FunctionTok{Surv}\NormalTok{(time, status) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment }\SpecialCharTok{+}\NormalTok{ age }\SpecialCharTok{+}\NormalTok{ gender }\SpecialCharTok{+}\NormalTok{ stage,}
  \AttributeTok{data =}\NormalTok{ survival\_data}
\NormalTok{)}

\CommentTok{\# æŸ¥çœ‹æ¨¡åž‹çµæžœ}
\FunctionTok{summary}\NormalTok{(cox\_model)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Call:
coxph(formula = Surv(time, status) ~ treatment + age + gender + 
    stage, data = survival_data)

  n= 100, number of events= 69 

                    coef exp(coef) se(coef)      z  Pr(>|z|)    
treatmentDrug_B -0.24768   0.78061  0.26698 -0.928  0.353548    
age              0.03947   1.04026  0.01122  3.518  0.000435 ***
genderM         -0.02607   0.97426  0.26378 -0.099  0.921265    
stageII          0.43456   1.54429  0.43274  1.004  0.315280    
stageIII         0.98111   2.66742  0.40840  2.402  0.016291 *  
stageIV          1.77548   5.90313  0.44506  3.989 0.0000663 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

                exp(coef) exp(-coef) lower .95 upper .95
treatmentDrug_B    0.7806     1.2811    0.4626     1.317
age                1.0403     0.9613    1.0176     1.063
genderM            0.9743     1.0264    0.5810     1.634
stageII            1.5443     0.6475    0.6613     3.606
stageIII           2.6674     0.3749    1.1980     5.939
stageIV            5.9031     0.1694    2.4674    14.123

Concordance= 0.682  (se = 0.029 )
Likelihood ratio test= 29.63  on 6 df,   p=0.00005
Wald test            = 28.58  on 6 df,   p=0.00007
Score (logrank) test = 30.83  on 6 df,   p=0.00003
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ•´ç†æˆæ¼‚äº®çš„è¡¨æ ¼}
\ControlFlowTok{if}\NormalTok{ (}\SpecialCharTok{!}\FunctionTok{require}\NormalTok{(gtsummary, }\AttributeTok{quietly =} \ConstantTok{TRUE}\NormalTok{)) \{}
  \FunctionTok{install.packages}\NormalTok{(}\StringTok{"gtsummary"}\NormalTok{, }\AttributeTok{repos =} \StringTok{"https://cloud.r{-}project.org/"}\NormalTok{)}
\NormalTok{\}}
\FunctionTok{library}\NormalTok{(gtsummary)}

\NormalTok{cox\_model }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{tbl\_regression}\NormalTok{(}
    \AttributeTok{exponentiate =} \ConstantTok{TRUE}\NormalTok{,  }\CommentTok{\# å°‡ä¿‚æ•¸è½‰æ›ç‚º Hazard Ratio}
    \AttributeTok{label =} \FunctionTok{list}\NormalTok{(}
\NormalTok{      treatment }\SpecialCharTok{\textasciitilde{}} \StringTok{"æ²»ç™‚çµ„åˆ¥"}\NormalTok{,}
\NormalTok{      age }\SpecialCharTok{\textasciitilde{}} \StringTok{"å¹´é½¡"}\NormalTok{,}
\NormalTok{      gender }\SpecialCharTok{\textasciitilde{}} \StringTok{"æ€§åˆ¥"}\NormalTok{,}
\NormalTok{      stage }\SpecialCharTok{\textasciitilde{}} \StringTok{"ç™Œç—‡æœŸåˆ¥"}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{bold\_p}\NormalTok{(}\AttributeTok{t =} \FloatTok{0.05}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{modify\_header}\NormalTok{(}\AttributeTok{label =} \StringTok{"**è®Šæ•¸**"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{modify\_caption}\NormalTok{(}\StringTok{"**Cox æ¯”ä¾‹é¢¨éšªæ¨¡åž‹çµæžœ**"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{table}
\fontsize{12.0pt}{14.0pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lccc}
\toprule
\textbf{è®Šæ•¸} & \textbf{HR} & \textbf{95\% CI} & \textbf{p-value} \\ 
\midrule\addlinespace[2.5pt]
æ²»ç™‚çµ„åˆ¥ &  &  &  \\ 
Â Â Â Â Drug\_A & \textemdash & \textemdash &  \\ 
Â Â Â Â Drug\_B & 0.78 & 0.46, 1.32 & 0.4 \\ 
å¹´é½¡ & 1.04 & 1.02, 1.06 & {\bfseries <0.001} \\ 
æ€§åˆ¥ &  &  &  \\ 
Â Â Â Â F & \textemdash & \textemdash &  \\ 
Â Â Â Â M & 0.97 & 0.58, 1.63 & >0.9 \\ 
ç™Œç—‡æœŸåˆ¥ &  &  &  \\ 
Â Â Â Â I & \textemdash & \textemdash &  \\ 
Â Â Â Â II & 1.54 & 0.66, 3.61 & 0.3 \\ 
Â Â Â Â III & 2.67 & 1.20, 5.94 & {\bfseries 0.016} \\ 
Â Â Â Â IV & 5.90 & 2.47, 14.1 & {\bfseries <0.001} \\ 
\bottomrule
\end{tabular*}
\begin{minipage}{\linewidth}
Abbreviations: CI = Confidence Interval, HR = Hazard Ratio\\
\end{minipage}
\end{table}

\subsection{å­˜æ´»åˆ†æžçµæžœè§£è®€}\label{ux5b58ux6d3bux5206ux6790ux7d50ux679cux89e3ux8b80}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æå– Hazard Ratio å’Œä¿¡è³´å€é–“}
\NormalTok{cox\_summary }\OtherTok{\textless{}{-}} \FunctionTok{summary}\NormalTok{(cox\_model)}
\NormalTok{hr }\OtherTok{\textless{}{-}} \FunctionTok{exp}\NormalTok{(cox\_summary}\SpecialCharTok{$}\NormalTok{coefficients[, }\StringTok{"coef"}\NormalTok{])}
\NormalTok{ci\_lower }\OtherTok{\textless{}{-}} \FunctionTok{exp}\NormalTok{(cox\_summary}\SpecialCharTok{$}\NormalTok{coefficients[, }\StringTok{"coef"}\NormalTok{] }\SpecialCharTok{{-}} \FloatTok{1.96} \SpecialCharTok{*}\NormalTok{ cox\_summary}\SpecialCharTok{$}\NormalTok{coefficients[, }\StringTok{"se(coef)"}\NormalTok{])}
\NormalTok{ci\_upper }\OtherTok{\textless{}{-}} \FunctionTok{exp}\NormalTok{(cox\_summary}\SpecialCharTok{$}\NormalTok{coefficients[, }\StringTok{"coef"}\NormalTok{] }\SpecialCharTok{+} \FloatTok{1.96} \SpecialCharTok{*}\NormalTok{ cox\_summary}\SpecialCharTok{$}\NormalTok{coefficients[, }\StringTok{"se(coef)"}\NormalTok{])}

\CommentTok{\# æ•´ç†æˆè¡¨æ ¼}
\NormalTok{hr\_table }\OtherTok{\textless{}{-}} \FunctionTok{data.frame}\NormalTok{(}
  \AttributeTok{Variable =} \FunctionTok{names}\NormalTok{(hr),}
  \AttributeTok{HR =} \FunctionTok{round}\NormalTok{(hr, }\DecValTok{2}\NormalTok{),}
  \AttributeTok{CI\_Lower =} \FunctionTok{round}\NormalTok{(ci\_lower, }\DecValTok{2}\NormalTok{),}
  \AttributeTok{CI\_Upper =} \FunctionTok{round}\NormalTok{(ci\_upper, }\DecValTok{2}\NormalTok{),}
  \AttributeTok{p\_value =} \FunctionTok{round}\NormalTok{(cox\_summary}\SpecialCharTok{$}\NormalTok{coefficients[, }\StringTok{"Pr(\textgreater{}|z|)"}\NormalTok{], }\DecValTok{4}\NormalTok{)}
\NormalTok{)}
\FunctionTok{print}\NormalTok{(hr\_table)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
                       Variable   HR CI_Lower CI_Upper p_value
treatmentDrug_B treatmentDrug_B 0.78     0.46     1.32  0.3535
age                         age 1.04     1.02     1.06  0.0004
genderM                 genderM 0.97     0.58     1.63  0.9213
stageII                 stageII 1.54     0.66     3.61  0.3153
stageIII               stageIII 2.67     1.20     5.94  0.0163
stageIV                 stageIV 5.90     2.47    14.12  0.0001
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cat}\NormalTok{(}\StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{=== Hazard Ratio è§£è®€æŒ‡å— ===}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

=== Hazard Ratio è§£è®€æŒ‡å— ===
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cat}\NormalTok{(}\StringTok{"HR = 1ï¼šè©²å› ç´ å°å­˜æ´»æ²’æœ‰å½±éŸ¿}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
HR = 1ï¼šè©²å› ç´ å°å­˜æ´»æ²’æœ‰å½±éŸ¿
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cat}\NormalTok{(}\StringTok{"HR \textgreater{} 1ï¼šè©²å› ç´ æœƒå¢žåŠ æ­»äº¡é¢¨éšªï¼ˆä¾‹å¦‚ HR=2 è¡¨ç¤ºé¢¨éšªå¢žåŠ ä¸€å€ï¼‰}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
HR > 1ï¼šè©²å› ç´ æœƒå¢žåŠ æ­»äº¡é¢¨éšªï¼ˆä¾‹å¦‚ HR=2 è¡¨ç¤ºé¢¨éšªå¢žåŠ ä¸€å€ï¼‰
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{cat}\NormalTok{(}\StringTok{"HR \textless{} 1ï¼šè©²å› ç´ æœƒé™ä½Žæ­»äº¡é¢¨éšªï¼ˆä¾‹å¦‚ HR=0.5 è¡¨ç¤ºé¢¨éšªæ¸›åŠï¼‰}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
HR < 1ï¼šè©²å› ç´ æœƒé™ä½Žæ­»äº¡é¢¨éšªï¼ˆä¾‹å¦‚ HR=0.5 è¡¨ç¤ºé¢¨éšªæ¸›åŠï¼‰
\end{verbatim}

\subsection{å°çµï¼šå­˜æ´»åˆ†æžçš„é—œéµæ¦‚å¿µ}\label{ux5c0fux7d50ux5b58ux6d3bux5206ux6790ux7684ux95dcux9375ux6982ux5ff5}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
æ¦‚å¿µ & èªªæ˜Ž \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{Censoringï¼ˆè¨­é™ï¼‰} & è§€å¯ŸçµæŸæ™‚äº‹ä»¶å°šæœªç™¼ç”Ÿï¼ˆä¾‹å¦‚ç—…äººé‚„æ´»è‘—ï¼‰ \\
\textbf{Kaplan-Meier} & ä¼°è¨ˆå­˜æ´»æ©ŸçŽ‡éš¨æ™‚é–“è®ŠåŒ–çš„æ›²ç·š \\
\textbf{Log-rank test} & æ¯”è¼ƒå…©çµ„æˆ–å¤šçµ„å­˜æ´»æ›²ç·šæ˜¯å¦æœ‰å·®ç•° \\
\textbf{Hazard Ratio (HR)} & ç›¸å°é¢¨éšªï¼ŒHR=2 è¡¨ç¤ºé¢¨éšªæ˜¯å°ç…§çµ„çš„ 2 å€ \\
\textbf{Cox model} & å¯åŒæ™‚è€ƒæ…®å¤šå€‹è®Šæ•¸å°å­˜æ´»çš„å½±éŸ¿ \\
\end{longtable}

\bookmarksetup{startatroot}

\chapter{ç¬¬å…­éƒ¨åˆ†ï¼šæ•´åˆèˆ‡æ”¶å°¾}\label{ux7b2cux516dux90e8ux5206ux6574ux5408ux8207ux6536ux5c3e}

æœ¬éƒ¨åˆ†é è¨ˆæ™‚é–“ï¼š20 åˆ†é˜

\section{ä»»å‹™
24ï¼šå®Œæ•´çš„åˆ†æžæµç¨‹}\label{ux4efbux52d9-24ux5b8cux6574ux7684ux5206ux6790ux6d41ux7a0b}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
è«‹å¹«æˆ‘å¯«ä¸€å€‹å®Œæ•´çš„ R scriptï¼Œå¾žé ­åˆ°å°¾åšå®Œä»¥ä¸‹åˆ†æžï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è®€å– patient\_data.csv
\item
  ç”¨ gtsummary ç”¢å‡º Table 1ï¼ˆä¾ç…§ treatment åˆ†çµ„ï¼Œå« p-valueï¼‰
\item
  ç”¨ ggplot2 ç•«ä¸€å€‹æ¯”è¼ƒå…©çµ„ los çš„ç›’ç‹€åœ–
\item
  åšçµ±è¨ˆæª¢å®šæ¯”è¼ƒå…©çµ„ los
\item
  æŠŠè¡¨æ ¼å­˜æˆ Word æª”ã€åœ–å­˜æˆ PNG æª”
\end{enumerate}

è«‹æŠŠç¨‹å¼ç¢¼æ•´ç†æˆä¸€å€‹å¯ä»¥å¾žé ­è·‘åˆ°å°¾çš„
scriptï¼Œä¸¦åŠ ä¸Šè¨»è§£èªªæ˜Žæ¯ä¸€æ­¥åœ¨åšä»€éº¼ã€‚
\end{quote}

\subsection{å®Œæ•´åˆ†æžè…³æœ¬}\label{ux5b8cux6574ux5206ux6790ux8173ux672c}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ===========================}
\CommentTok{\# è‡¨åºŠç ”ç©¶çµ±è¨ˆåˆ†æžå®Œæ•´è…³æœ¬}
\CommentTok{\# ===========================}

\CommentTok{\# è¼‰å…¥å¿…è¦å¥—ä»¶}
\FunctionTok{library}\NormalTok{(gtsummary)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(dplyr)}

\CommentTok{\# å®‰è£ä¸¦è¼‰å…¥ flextableï¼ˆå¦‚æžœéœ€è¦ï¼‰}
\ControlFlowTok{if}\NormalTok{ (}\SpecialCharTok{!}\FunctionTok{require}\NormalTok{(flextable, }\AttributeTok{quietly =} \ConstantTok{TRUE}\NormalTok{)) \{}
  \FunctionTok{install.packages}\NormalTok{(}\StringTok{"flextable"}\NormalTok{, }\AttributeTok{repos =} \StringTok{"https://cloud.r{-}project.org/"}\NormalTok{)}
  \FunctionTok{library}\NormalTok{(flextable)}
\NormalTok{\}}

\CommentTok{\# 1. è®€å–è³‡æ–™}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\NormalTok{my\_data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"patient\_data.csv"}\NormalTok{)}
\FunctionTok{print}\NormalTok{(}\StringTok{"è³‡æ–™è®€å–æˆåŠŸï¼"}\NormalTok{)}
\FunctionTok{print}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{"å…±æœ‰"}\NormalTok{, }\FunctionTok{nrow}\NormalTok{(my\_data), }\StringTok{"ç­†è³‡æ–™"}\NormalTok{))}

\CommentTok{\# 2. å»ºç«‹ Table 1}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\NormalTok{table1 }\OtherTok{\textless{}{-}}\NormalTok{ my\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(treatment, age, gender, los) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{tbl\_summary}\NormalTok{(}
    \AttributeTok{by =}\NormalTok{ treatment,}
    \AttributeTok{label =} \FunctionTok{list}\NormalTok{(}
\NormalTok{      age }\SpecialCharTok{\textasciitilde{}} \StringTok{"å¹´é½¡ï¼ˆæ­²ï¼‰"}\NormalTok{,}
\NormalTok{      gender }\SpecialCharTok{\textasciitilde{}} \StringTok{"æ€§åˆ¥"}\NormalTok{,}
\NormalTok{      los }\SpecialCharTok{\textasciitilde{}} \StringTok{"ä½é™¢å¤©æ•¸ï¼ˆå¤©ï¼‰"}
\NormalTok{    ),}
    \AttributeTok{statistic =} \FunctionTok{list}\NormalTok{(}
      \FunctionTok{all\_continuous}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{mean\} Â± \{sd\}"}\NormalTok{,}
      \FunctionTok{all\_categorical}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{n\} (\{p\}\%)"}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{add\_p}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{bold\_p}\NormalTok{(}\AttributeTok{t =} \FloatTok{0.05}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{modify\_header}\NormalTok{(label }\SpecialCharTok{\textasciitilde{}} \StringTok{"**è®Šé …**"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{modify\_spanning\_header}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"stat\_1"}\NormalTok{, }\StringTok{"stat\_2"}\NormalTok{) }\SpecialCharTok{\textasciitilde{}} \StringTok{"**æ²»ç™‚çµ„åˆ¥**"}\NormalTok{)}

\CommentTok{\# é¡¯ç¤º Table 1}
\FunctionTok{print}\NormalTok{(table1)}

\CommentTok{\# 3. ç¹ªè£½ç›’ç‹€åœ–}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\NormalTok{p }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(my\_data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ treatment, }\AttributeTok{y =}\NormalTok{ los, }\AttributeTok{fill =}\NormalTok{ treatment)) }\SpecialCharTok{+}
  \FunctionTok{geom\_boxplot}\NormalTok{(}\AttributeTok{alpha =} \FloatTok{0.7}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_jitter}\NormalTok{(}\AttributeTok{width =} \FloatTok{0.2}\NormalTok{, }\AttributeTok{alpha =} \FloatTok{0.5}\NormalTok{, }\AttributeTok{size =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{"A"} \OtherTok{=} \StringTok{"steelblue"}\NormalTok{, }\StringTok{"B"} \OtherTok{=} \StringTok{"darkorange"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"å…©çµ„æ²»ç™‚çš„ä½é™¢å¤©æ•¸æ¯”è¼ƒ"}\NormalTok{,}
    \AttributeTok{x =} \StringTok{"æ²»ç™‚çµ„åˆ¥"}\NormalTok{,}
    \AttributeTok{y =} \StringTok{"ä½é™¢å¤©æ•¸ï¼ˆå¤©ï¼‰"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{legend.position =} \StringTok{"none"}\NormalTok{,}
    \AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{14}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{, }\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{)}
\NormalTok{  )}

\CommentTok{\# é¡¯ç¤ºåœ–è¡¨}
\FunctionTok{print}\NormalTok{(p)}

\CommentTok{\# 4. çµ±è¨ˆæª¢å®š}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\CommentTok{\# t{-}test}
\NormalTok{t\_test }\OtherTok{\textless{}{-}} \FunctionTok{t.test}\NormalTok{(los }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment, }\AttributeTok{data =}\NormalTok{ my\_data)}
\FunctionTok{print}\NormalTok{(}\StringTok{"ç¨ç«‹æ¨£æœ¬ t æª¢å®šçµæžœï¼š"}\NormalTok{)}
\FunctionTok{print}\NormalTok{(t\_test)}

\CommentTok{\# Wilcoxon testï¼ˆç„¡æ¯æ•¸æ›¿ä»£æ–¹æ³•ï¼‰}
\NormalTok{wilcox\_test }\OtherTok{\textless{}{-}} \FunctionTok{wilcox.test}\NormalTok{(los }\SpecialCharTok{\textasciitilde{}}\NormalTok{ treatment, }\AttributeTok{data =}\NormalTok{ my\_data)}
\FunctionTok{print}\NormalTok{(}\StringTok{"Wilcoxon rank{-}sum æª¢å®šçµæžœï¼š"}\NormalTok{)}
\FunctionTok{print}\NormalTok{(wilcox\_test)}

\CommentTok{\# 5. å„²å­˜è¼¸å‡º}
\CommentTok{\# {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}
\CommentTok{\# å„²å­˜ Table 1 ç‚º Word æª”}
\NormalTok{table1 }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{as\_flex\_table}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{save\_as\_docx}\NormalTok{(}\AttributeTok{path =} \StringTok{"Table1\_output.docx"}\NormalTok{)}
\FunctionTok{print}\NormalTok{(}\StringTok{"Table 1 å·²å„²å­˜ç‚º Table1\_output.docx"}\NormalTok{)}

\CommentTok{\# å„²å­˜ç›’ç‹€åœ–ç‚º PNG æª”}
\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =} \StringTok{"boxplot\_los\_comparison.png"}\NormalTok{,}
  \AttributeTok{plot =}\NormalTok{ p,}
  \AttributeTok{width =} \DecValTok{8}\NormalTok{,}
  \AttributeTok{height =} \DecValTok{6}\NormalTok{,}
  \AttributeTok{dpi =} \DecValTok{300}\NormalTok{,}
  \AttributeTok{units =} \StringTok{"in"}
\NormalTok{)}
\FunctionTok{print}\NormalTok{(}\StringTok{"ç›’ç‹€åœ–å·²å„²å­˜ç‚º boxplot\_los\_comparison.png"}\NormalTok{)}

\FunctionTok{print}\NormalTok{(}\StringTok{"===== åˆ†æžå®Œæˆï¼====="}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{ä»»å‹™
25ï¼šåšæˆä½ çš„ç¯„æœ¬}\label{ux4efbux52d9-25ux505aux6210ux4f60ux7684ux7bc4ux672c}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
è«‹æŠŠå‰›å‰›çš„ script
æ”¹æˆä¸€å€‹ã€Œç¯„æœ¬ã€ï¼ŒæŠŠæª”æ¡ˆåç¨±ã€åˆ†çµ„è®Šæ•¸ã€è¦åˆ†æžçš„è®Šæ•¸éƒ½ç”¨æ¸…æ¥šçš„è®Šæ•¸åç¨±æ¨™ç¤ºåœ¨æœ€ä¸Šé¢ï¼Œé€™æ¨£æˆ‘ä»¥å¾Œåªè¦æ”¹æœ€ä¸Šé¢çš„è¨­å®šï¼Œå°±å¯ä»¥å¥—ç”¨åˆ°ä¸åŒçš„è³‡æ–™ã€‚
\end{quote}

\subsection{å¯é‡è¤‡ä½¿ç”¨çš„åˆ†æžç¯„æœ¬}\label{ux53efux91cdux8907ux4f7fux7528ux7684ux5206ux6790ux7bc4ux672c}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ========================================}
\CommentTok{\# è‡¨åºŠç ”ç©¶çµ±è¨ˆåˆ†æžç¯„æœ¬}
\CommentTok{\# ä½¿ç”¨èªªæ˜Žï¼šä¿®æ”¹ä¸‹æ–¹è¨­å®šå€çš„åƒæ•¸å³å¯}
\CommentTok{\# ========================================}

\CommentTok{\# ========== è¨­å®šå€ ==========}
\CommentTok{\# è«‹æ ¹æ“šæ‚¨çš„è³‡æ–™ä¿®æ”¹ä»¥ä¸‹åƒæ•¸}

\CommentTok{\# æª”æ¡ˆè¨­å®š}
\NormalTok{DATA\_FILE }\OtherTok{\textless{}{-}} \StringTok{"patient\_data.csv"}          \CommentTok{\# è³‡æ–™æª”æ¡ˆåç¨±}
\NormalTok{OUTPUT\_TABLE }\OtherTok{\textless{}{-}} \StringTok{"Table1\_results.docx"}    \CommentTok{\# è¼¸å‡ºè¡¨æ ¼æª”å}
\NormalTok{OUTPUT\_FIGURE }\OtherTok{\textless{}{-}} \StringTok{"comparison\_plot.png"}   \CommentTok{\# è¼¸å‡ºåœ–æª”å}

\CommentTok{\# è®Šæ•¸è¨­å®š}
\NormalTok{GROUP\_VAR }\OtherTok{\textless{}{-}} \StringTok{"treatment"}                 \CommentTok{\# åˆ†çµ„è®Šæ•¸}
\NormalTok{CONTINUOUS\_VARS }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"age"}\NormalTok{, }\StringTok{"los"}\NormalTok{)       }\CommentTok{\# é€£çºŒè®Šæ•¸}
\NormalTok{CATEGORICAL\_VARS }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"gender"}\NormalTok{)          }\CommentTok{\# é¡žåˆ¥è®Šæ•¸}
\NormalTok{OUTCOME\_VAR }\OtherTok{\textless{}{-}} \StringTok{"los"}                     \CommentTok{\# ä¸»è¦çµæžœè®Šæ•¸ï¼ˆç”¨æ–¼ç•«åœ–ï¼‰}

\CommentTok{\# æ¨™ç±¤è¨­å®šï¼ˆä¸­æ–‡åç¨±ï¼‰}
\NormalTok{LABELS }\OtherTok{\textless{}{-}} \FunctionTok{list}\NormalTok{(}
  \AttributeTok{age =} \StringTok{"å¹´é½¡ï¼ˆæ­²ï¼‰"}\NormalTok{,}
  \AttributeTok{gender =} \StringTok{"æ€§åˆ¥"}\NormalTok{,}
  \AttributeTok{los =} \StringTok{"ä½é™¢å¤©æ•¸ï¼ˆå¤©ï¼‰"}\NormalTok{,}
  \AttributeTok{treatment =} \StringTok{"æ²»ç™‚çµ„åˆ¥"}
\NormalTok{)}

\CommentTok{\# åœ–è¡¨è¨­å®š}
\NormalTok{PLOT\_TITLE }\OtherTok{\textless{}{-}} \StringTok{"å…©çµ„æ²»ç™‚çš„ä½é™¢å¤©æ•¸æ¯”è¼ƒ"}
\NormalTok{GROUP\_COLORS }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"steelblue"}\NormalTok{, }\StringTok{"darkorange"}\NormalTok{)  }\CommentTok{\# å…©çµ„çš„é¡è‰²}

\CommentTok{\# ========== åˆ†æžç¨‹å¼ï¼ˆé€šå¸¸ä¸éœ€ä¿®æ”¹ï¼‰==========}

\CommentTok{\# è¼‰å…¥å¥—ä»¶}
\NormalTok{required\_packages }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"gtsummary"}\NormalTok{, }\StringTok{"ggplot2"}\NormalTok{, }\StringTok{"dplyr"}\NormalTok{, }\StringTok{"flextable"}\NormalTok{)}

\ControlFlowTok{for}\NormalTok{ (pkg }\ControlFlowTok{in}\NormalTok{ required\_packages) \{}
  \ControlFlowTok{if}\NormalTok{ (}\SpecialCharTok{!}\FunctionTok{require}\NormalTok{(pkg, }\AttributeTok{character.only =} \ConstantTok{TRUE}\NormalTok{, }\AttributeTok{quietly =} \ConstantTok{TRUE}\NormalTok{)) \{}
    \FunctionTok{install.packages}\NormalTok{(pkg, }\AttributeTok{repos =} \StringTok{"https://cloud.r{-}project.org/"}\NormalTok{)}
    \FunctionTok{library}\NormalTok{(pkg, }\AttributeTok{character.only =} \ConstantTok{TRUE}\NormalTok{)}
\NormalTok{  \}}
\NormalTok{\}}

\CommentTok{\# è®€å–è³‡æ–™}
\NormalTok{data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(DATA\_FILE)}
\FunctionTok{print}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{"æˆåŠŸè®€å–"}\NormalTok{, }\FunctionTok{nrow}\NormalTok{(data), }\StringTok{"ç­†è³‡æ–™"}\NormalTok{))}

\CommentTok{\# å»ºç«‹è®Šæ•¸æ¸…å–®}
\NormalTok{all\_vars }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(GROUP\_VAR, CONTINUOUS\_VARS, CATEGORICAL\_VARS)}

\CommentTok{\# ç”¢ç”Ÿ Table 1}
\NormalTok{table\_result }\OtherTok{\textless{}{-}}\NormalTok{ data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(}\FunctionTok{all\_of}\NormalTok{(all\_vars)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{tbl\_summary}\NormalTok{(}
    \AttributeTok{by =} \FunctionTok{all\_of}\NormalTok{(GROUP\_VAR),}
    \AttributeTok{label =}\NormalTok{ LABELS,}
    \AttributeTok{statistic =} \FunctionTok{list}\NormalTok{(}
      \FunctionTok{all\_continuous}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{mean\} Â± \{sd\}"}\NormalTok{,}
      \FunctionTok{all\_categorical}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{n\} (\{p\}\%)"}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{add\_p}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{bold\_p}\NormalTok{(}\AttributeTok{t =} \FloatTok{0.05}\NormalTok{)}

\FunctionTok{print}\NormalTok{(table\_result)}

\CommentTok{\# ç¹ªè£½æ¯”è¼ƒåœ–}
\NormalTok{plot\_formula }\OtherTok{\textless{}{-}} \FunctionTok{as.formula}\NormalTok{(}\FunctionTok{paste}\NormalTok{(OUTCOME\_VAR, }\StringTok{"\textasciitilde{}"}\NormalTok{, GROUP\_VAR))}

\NormalTok{comparison\_plot }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(data, }
                          \FunctionTok{aes\_string}\NormalTok{(}\AttributeTok{x =}\NormalTok{ GROUP\_VAR, }
                                    \AttributeTok{y =}\NormalTok{ OUTCOME\_VAR, }
                                    \AttributeTok{fill =}\NormalTok{ GROUP\_VAR)) }\SpecialCharTok{+}
  \FunctionTok{geom\_boxplot}\NormalTok{(}\AttributeTok{alpha =} \FloatTok{0.7}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_jitter}\NormalTok{(}\AttributeTok{width =} \FloatTok{0.2}\NormalTok{, }\AttributeTok{alpha =} \FloatTok{0.5}\NormalTok{, }\AttributeTok{size =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_manual}\NormalTok{(}\AttributeTok{values =}\NormalTok{ GROUP\_COLORS) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =}\NormalTok{ PLOT\_TITLE,}
    \AttributeTok{x =}\NormalTok{ LABELS[[GROUP\_VAR]],}
    \AttributeTok{y =}\NormalTok{ LABELS[[OUTCOME\_VAR]]}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{legend.position =} \StringTok{"none"}\NormalTok{,}
    \AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{14}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{, }\AttributeTok{hjust =} \FloatTok{0.5}\NormalTok{)}
\NormalTok{  )}

\FunctionTok{print}\NormalTok{(comparison\_plot)}

\CommentTok{\# çµ±è¨ˆæª¢å®š}
\NormalTok{test\_result }\OtherTok{\textless{}{-}} \FunctionTok{t.test}\NormalTok{(plot\_formula, }\AttributeTok{data =}\NormalTok{ data)}
\FunctionTok{print}\NormalTok{(test\_result)}

\CommentTok{\# å„²å­˜çµæžœ}
\NormalTok{table\_result }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{as\_flex\_table}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{save\_as\_docx}\NormalTok{(}\AttributeTok{path =}\NormalTok{ OUTPUT\_TABLE)}

\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =}\NormalTok{ OUTPUT\_FIGURE,}
  \AttributeTok{plot =}\NormalTok{ comparison\_plot,}
  \AttributeTok{width =} \DecValTok{8}\NormalTok{,}
  \AttributeTok{height =} \DecValTok{6}\NormalTok{,}
  \AttributeTok{dpi =} \DecValTok{300}
\NormalTok{)}

\FunctionTok{print}\NormalTok{(}\FunctionTok{paste}\NormalTok{(}\StringTok{"åˆ†æžå®Œæˆï¼çµæžœå·²å„²å­˜è‡³"}\NormalTok{, OUTPUT\_TABLE, }\StringTok{"å’Œ"}\NormalTok{, OUTPUT\_FIGURE))}
\end{Highlighting}
\end{Shaded}

\section{ä»»å‹™
26ï¼šç•¶ä½ é›¢é–‹é€™å€‹æ•™å®¤ä¹‹å¾Œ}\label{ux4efbux52d9-26ux7576ux4f60ux96e2ux958bux9019ux500bux6559ux5ba4ux4e4bux5f8c}

ðŸ“‹ \textbf{è¤‡è£½é€™æ®µè©±ï¼Œè²¼çµ¦ AIï¼š}

\begin{quote}
æˆ‘æ˜¯ä¸€å€‹å‰›å­¸ R çš„é†«è­·äººå“¡ï¼Œä¸»è¦æƒ³ç”¨ R åšè‡¨åºŠç ”ç©¶çš„çµ±è¨ˆåˆ†æžã€‚è«‹æŽ¨è–¦æˆ‘ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  3 å€‹æœ€å€¼å¾—å­¸çš„ R æŠ€èƒ½ï¼ˆä»¥æˆ‘çš„éœ€æ±‚ä¾†èªªï¼‰
\item
  2 å€‹é©åˆåˆå­¸è€…çš„å…è²»å­¸ç¿’è³‡æº
\item
  ç•¶æˆ‘é‡åˆ°å•é¡Œæ™‚ï¼Œé™¤äº†å•ä½ ä¹‹å¤–ï¼Œé‚„å¯ä»¥åŽ»å“ªè£¡æ‰¾ç­”æ¡ˆ
\end{enumerate}
\end{quote}

\subsection{æŒçºŒå­¸ç¿’å»ºè­°}\label{ux6301ux7e8cux5b78ux7fd2ux5efaux8b70}

\subsubsection{æœ€å€¼å¾—å­¸çš„ 3 å€‹ R
æŠ€èƒ½}\label{ux6700ux503cux5f97ux5b78ux7684-3-ux500b-r-ux6280ux80fd}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{è³‡æ–™æ•´ç†ï¼ˆdplyr å¥—ä»¶ï¼‰}

  \begin{itemize}
  \tightlist
  \item
    \texttt{filter()}ï¼šç¯©é¸è³‡æ–™
  \item
    \texttt{select()}ï¼šé¸æ“‡æ¬„ä½
  \item
    \texttt{mutate()}ï¼šæ–°å¢žè¨ˆç®—æ¬„ä½
  \item
    \texttt{group\_by()} + \texttt{summarise()}ï¼šåˆ†çµ„çµ±è¨ˆ
  \end{itemize}
\item
  \textbf{çµ±è¨ˆåˆ†æžï¼ˆåŸºç¤Ž R + å°ˆé–€å¥—ä»¶ï¼‰}

  \begin{itemize}
  \tightlist
  \item
    åŸºç¤Žçµ±è¨ˆæª¢å®šï¼š\texttt{t.test()}, \texttt{wilcox.test()},
    \texttt{chisq.test()}
  \item
    è¿´æ­¸åˆ†æžï¼š\texttt{lm()}, \texttt{glm()}
  \item
    å­˜æ´»åˆ†æžï¼š\texttt{survival} å¥—ä»¶
  \end{itemize}
\item
  \textbf{è³‡æ–™è¦–è¦ºåŒ–ï¼ˆggplot2ï¼‰}

  \begin{itemize}
  \tightlist
  \item
    åŸºæœ¬åœ–å½¢ï¼šæ•£ä½ˆåœ–ã€é•·æ¢åœ–ã€ç›’ç‹€åœ–
  \item
    å®¢è£½åŒ–ï¼šä¸»é¡Œã€é¡è‰²ã€æ¨™ç±¤
  \item
    è«–æ–‡å“è³ªè¼¸å‡ºï¼šé«˜è§£æžåº¦ã€é©ç•¶å°ºå¯¸
  \end{itemize}
\end{enumerate}

\subsubsection{å…è²»å­¸ç¿’è³‡æº}\label{ux514dux8cbbux5b78ux7fd2ux8cc7ux6e90}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{R for Data Science (ç·šä¸Šå…è²»æ›¸)}

  \begin{itemize}
  \tightlist
  \item
    ç¶²å€ï¼šhttps://r4ds.had.co.nz/
  \item
    ä¸­æ–‡ç‰ˆä¹Ÿæœ‰å…è²»ç·šä¸Šç‰ˆæœ¬
  \end{itemize}
\item
  \textbf{Swirl äº’å‹•å¼å­¸ç¿’å¥—ä»¶}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"swirl"}\NormalTok{)}
\FunctionTok{library}\NormalTok{(swirl)}
\FunctionTok{swirl}\NormalTok{()}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\subsubsection{å•é¡Œè§£æ±ºè³‡æº}\label{ux554fux984cux89e3ux6c7aux8cc7ux6e90}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Stack Overflow}

  \begin{itemize}
  \tightlist
  \item
    æœå°‹é—œéµå­—åŠ ä¸Š ``R''
  \item
    å¤§éƒ¨åˆ†å•é¡Œéƒ½æœ‰äººå•éŽ
  \end{itemize}
\item
  \textbf{R å®˜æ–¹æ–‡ä»¶}

  \begin{itemize}
  \tightlist
  \item
    åœ¨ R ä¸­è¼¸å…¥ \texttt{?å‡½æ•¸åç¨±} æŸ¥çœ‹èªªæ˜Ž
  \item
    ä¾‹å¦‚ï¼š\texttt{?t.test}
  \end{itemize}
\item
  \textbf{çµ±è¨ˆè«®è©¢}

  \begin{itemize}
  \tightlist
  \item
    é†«é™¢æˆ–å­¸æ ¡çš„çµ±è¨ˆè«®è©¢ä¸­å¿ƒ
  \item
    ç·šä¸Šçµ±è¨ˆè«–å£‡ï¼ˆå¦‚ Cross Validatedï¼‰
  \end{itemize}
\end{enumerate}

\subsection{ç·´ç¿’å»ºè­°}\label{ux7df4ux7fd2ux5efaux8b70}

\begin{longtable}[]{@{}ccc@{}}
\toprule\noalign{}
é€±æ¬¡ & ç·´ç¿’é‡é»ž & å»ºè­°æ™‚é–“ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
1 & é‡è¤‡ä»Šå¤©çš„å…§å®¹ï¼Œç”¨è‡ªå·±çš„è³‡æ–™ & æ¯å¤© 30 åˆ†é˜ \\
2 & å­¸ç¿’ dplyr è³‡æ–™æ•´ç† & æ¯å¤© 30 åˆ†é˜ \\
3 & å˜—è©¦ä¸åŒçš„çµ±è¨ˆæª¢å®š & æ¯é€± 2-3 æ¬¡ \\
4 & è£½ä½œæ›´è¤‡é›œçš„åœ–è¡¨ & æ¯é€± 2-3 æ¬¡ \\
\end{longtable}

\section{ä»Šå¤©å­¸æœƒçš„è¶…èƒ½åŠ›ç¸½çµ}\label{ux4ecaux5929ux5b78ux6703ux7684ux8d85ux80fdux529bux7e3dux7d50}

\begin{itemize}
\tightlist
\item
  âœ… æŠŠå•é¡Œæè¿°æ¸…æ¥šï¼Œè®“ AI å¹«ä½ å¯«ç¨‹å¼
\item
  âœ… çœ‹æ‡‚ AI çµ¦çš„ç¨‹å¼ç¢¼å¤§æ¦‚åœ¨åšä»€éº¼
\item
  âœ… ç•¶ç¨‹å¼å‡ºéŒ¯ï¼ŒçŸ¥é“æ€Žéº¼å• AI ä¿®æ­£
\item
  âœ… ç”¢å‡ºå¯ä»¥æ”¾é€²è«–æ–‡çš„è¡¨æ ¼å’Œåœ–è¡¨
\item
  âœ… æœ‰ä¸€å€‹å¯ä»¥é‡è¤‡ä½¿ç”¨çš„åˆ†æžç¯„æœ¬
\end{itemize}

\textbf{ä½ ä¸éœ€è¦è¨˜ä½ä»»ä½•èªžæ³•ï¼Œä½†è¦è¨˜ä½å¦‚ä½•å•å°å•é¡Œï¼}

\bookmarksetup{startatroot}

\chapter{é™„éŒ„ï¼šå¸¸è¦‹æŠ€è¡“å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ}\label{ux9644ux9304ux5e38ux898bux6280ux8853ux554fux984cux8207ux89e3ux6c7aux65b9ux6848}

\subsection{R ç’°å¢ƒè¨­ç½®}\label{r-ux74b0ux5883ux8a2dux7f6e}

\subsubsection{å¥—ä»¶å®‰è£å•é¡Œ}\label{ux5957ux4ef6ux5b89ux88ddux554fux984c}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¦‚æžœå®‰è£å¤±æ•—ï¼Œå¯ä»¥å˜—è©¦é¸æ“‡ä¸åŒçš„ CRAN mirror}
\FunctionTok{options}\NormalTok{(}\AttributeTok{repos =} \FunctionTok{c}\NormalTok{(}\AttributeTok{CRAN =} \StringTok{"https://cloud.r{-}project.org/"}\NormalTok{))}
\FunctionTok{install.packages}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"ggplot2"}\NormalTok{, }\StringTok{"gtsummary"}\NormalTok{, }\StringTok{"dplyr"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsubsection{ä¸­æ–‡ç·¨ç¢¼å•é¡Œ}\label{ux4e2dux6587ux7de8ux78bcux554fux984c}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¨­å®šæ­£ç¢ºçš„ç·¨ç¢¼}
\FunctionTok{Sys.setlocale}\NormalTok{(}\StringTok{"LC\_ALL"}\NormalTok{, }\StringTok{"Chinese"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{è³‡æ–™è®€å–å•é¡Œ}\label{ux8cc7ux6599ux8b80ux53d6ux554fux984c}

\subsubsection{CSV æª”æ¡ˆè·¯å¾‘}\label{csv-ux6a94ux6848ux8defux5f91}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æª¢æŸ¥å·¥ä½œç›®éŒ„}
\FunctionTok{getwd}\NormalTok{()}

\CommentTok{\# è¨­å®šå·¥ä½œç›®éŒ„åˆ°è³‡æ–™æª”æ¡ˆæ‰€åœ¨ä½ç½®}
\FunctionTok{setwd}\NormalTok{(}\StringTok{"/path/to/your/data"}\NormalTok{)}

\CommentTok{\# æˆ–ä½¿ç”¨çµ•å°è·¯å¾‘}
\NormalTok{my\_data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"/å®Œæ•´è·¯å¾‘/patient\_data.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{ç·¨ç¢¼å•é¡Œ}\label{ux7de8ux78bcux554fux984c}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¦‚æžœä¸­æ–‡é¡¯ç¤ºäº‚ç¢¼}
\NormalTok{my\_data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"patient\_data.csv"}\NormalTok{, }\AttributeTok{fileEncoding =} \StringTok{"UTF{-}8"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{æ•™å­¸ç¯€å¥å»ºè­°}\label{ux6559ux5b78ux7bc0ux594fux5efaux8b70}

\subsection{ç¬¬ä¸€éƒ¨åˆ†ï¼ˆ40åˆ†é˜ï¼‰}\label{ux7b2cux4e00ux90e8ux520640ux5206ux9418}

\begin{itemize}
\tightlist
\item
  ä»»å‹™ 1-2ï¼š15 åˆ†é˜ï¼ˆé‡é»žæ˜¯å»ºç«‹ä¿¡å¿ƒï¼‰
\item
  ä»»å‹™ 3ï¼š5 åˆ†é˜ï¼ˆå¦‚æžœæ²’éŒ¯èª¤å¯è·³éŽï¼‰
\item
  ä»»å‹™ 4ï¼š10 åˆ†é˜ï¼ˆæ¦‚å¿µç†è§£ï¼‰
\item
  ä»»å‹™ 5ï¼š10 åˆ†é˜ï¼ˆå¯¦éš›å®‰è£ï¼‰
\end{itemize}

\subsection{ç¬¬äºŒéƒ¨åˆ†ï¼ˆ20åˆ†é˜ï¼‰}\label{ux7b2cux4e8cux90e8ux520620ux5206ux9418}

\begin{itemize}
\tightlist
\item
  ä»»å‹™ 6ï¼š8 åˆ†é˜ï¼ˆé‡é»žæ˜¯æˆåŠŸè®€å–ï¼‰
\item
  ä»»å‹™ 7ï¼š7 åˆ†é˜ï¼ˆè³‡æ–™æŽ¢ç´¢ï¼‰
\item
  ä»»å‹™ 8ï¼š5 åˆ†é˜ï¼ˆç†è§£è³‡æ–™ï¼‰
\end{itemize}

\subsection{ç¬¬ä¸‰éƒ¨åˆ†ï¼ˆ40åˆ†é˜ï¼‰}\label{ux7b2cux4e09ux90e8ux520640ux5206ux9418}

\begin{itemize}
\tightlist
\item
  ä»»å‹™ 9ï¼š5 åˆ†é˜ï¼ˆæ¦‚å¿µå»ºç«‹ï¼‰
\item
  ä»»å‹™ 10ï¼š10 åˆ†é˜ï¼ˆç¬¬ä¸€å€‹è¡¨æ ¼ï¼‰
\item
  ä»»å‹™ 11ï¼š8 åˆ†é˜ï¼ˆåŠ ä¸Šçµ±è¨ˆï¼‰
\item
  ä»»å‹™ 12ï¼š7 åˆ†é˜ï¼ˆç†è§£æ–¹æ³•é¸æ“‡ï¼‰
\item
  ä»»å‹™ 13ï¼š10 åˆ†é˜ï¼ˆå®¢è£½åŒ–ï¼‰
\end{itemize}

\subsection{ç¬¬å››éƒ¨åˆ†ï¼ˆ40åˆ†é˜ï¼‰}\label{ux7b2cux56dbux90e8ux520640ux5206ux9418}

\begin{itemize}
\tightlist
\item
  ä»»å‹™ 15ï¼š8 åˆ†é˜ï¼ˆåŸºæœ¬åœ–ï¼‰
\item
  ä»»å‹™ 16ï¼š12 åˆ†é˜ï¼ˆç¾ŽåŒ–ï¼‰
\item
  ä»»å‹™ 17ï¼š10 åˆ†é˜ï¼ˆåŠ è³‡æ–™é»žï¼‰
\item
  ä»»å‹™ 18ï¼š10 åˆ†é˜ï¼ˆå…¶ä»–åœ–åž‹ï¼Œè®“å­¸å“¡é¸æ“‡ï¼‰
\end{itemize}

\subsection{ç¬¬äº”éƒ¨åˆ†ï¼ˆ30åˆ†é˜ï¼‰}\label{ux7b2cux4e94ux90e8ux520630ux5206ux9418}

\begin{itemize}
\tightlist
\item
  ä»»å‹™ 20ï¼š12 åˆ†é˜ï¼ˆçµ±è¨ˆæ–¹æ³•é¸æ“‡ï¼‰
\item
  ä»»å‹™ 21ï¼š8 åˆ†é˜ï¼ˆçµæžœè§£è®€ï¼‰
\item
  ä»»å‹™ 22ï¼š10 åˆ†é˜ï¼ˆå‡è¨­æª¢é©—ï¼‰
\end{itemize}

\subsection{ç¬¬å…­éƒ¨åˆ†ï¼ˆ20åˆ†é˜ï¼‰}\label{ux7b2cux516dux90e8ux520620ux5206ux9418}

\begin{itemize}
\tightlist
\item
  ä»»å‹™ 24ï¼š10 åˆ†é˜ï¼ˆå®Œæ•´è…³æœ¬ï¼‰
\item
  ä»»å‹™ 25ï¼š10 åˆ†é˜ï¼ˆç¯„æœ¬åŒ–ï¼‰
\end{itemize}

\section{æ‡‰æ€¥æ–¹æ¡ˆ}\label{ux61c9ux6025ux65b9ux6848}

\subsection{å¦‚æžœ AI
ç„¡æ³•ä½¿ç”¨}\label{ux5982ux679c-ai-ux7121ux6cd5ux4f7fux7528}

æº–å‚™é å¯«å¥½çš„ç¨‹å¼ç¢¼ç‰‡æ®µï¼Œä½†ä»è¦å¼·èª¿ï¼š - é€™ä¸æ˜¯èƒŒèª¦çš„é‡é»ž -
é‡é»žæ˜¯ç†è§£å¦‚ä½•æè¿°å•é¡Œ - AI æ¢å¾©å¾Œç¹¼çºŒç”¨ AI è¼”åŠ©æ–¹å¼

\section{è©•ä¼°å­¸ç¿’æˆæ•ˆ}\label{ux8a55ux4f30ux5b78ux7fd2ux6210ux6548}

\subsection{èª²ç¨‹çµæŸå‰æª¢æŸ¥æ¸…å–®}\label{ux8ab2ux7a0bux7d50ux675fux524dux6aa2ux67e5ux6e05ux55ae}

å­¸å“¡æ‡‰è©²èƒ½å¤ ï¼š - {[} {]} æˆåŠŸåŸ·è¡Œ AI æä¾›çš„ R ç¨‹å¼ç¢¼ - {[} {]}
ç”¢å‡ºä¸€å€‹åŸºæœ¬çš„æè¿°æ€§çµ±è¨ˆè¡¨æ ¼ - {[} {]} ç•«å‡ºä¸€å€‹åŸºæœ¬çš„æ¯”è¼ƒåœ–è¡¨ - {[} {]}
çŸ¥é“åœ¨é‡åˆ°éŒ¯èª¤æ™‚å¦‚ä½•æ±‚åŠ©ï¼ˆæè¿°å•é¡Œçµ¦ AIï¼‰ - {[} {]} ç†è§£ R
ç¨‹å¼ç¢¼çš„åŸºæœ¬çµæ§‹ï¼ˆè®Šæ•¸ã€å‡½æ•¸ã€åƒæ•¸ï¼‰

\section{2025 å¹´è‡¨åºŠç ”ç©¶è€…çš„ R
èªžè¨€æœ€ä½³å¥—ä»¶çµ„åˆæŒ‡å—}\label{ux5e74ux81e8ux5e8aux7814ux7a76ux8005ux7684-r-ux8a9eux8a00ux6700ux4f73ux5957ux4ef6ux7d44ux5408ux6307ux5357}

\textbf{Quarto å–ä»£ R Markdown æˆç‚ºæ–°æ¨™æº–ï¼Œgtsummary + flextable
ä¸»å°Žè‡¨åºŠè¡¨æ ¼è£½ä½œï¼Œè€Œ ggsurvfit æ­£å¼å–ä»£ survminer
æˆç‚ºå­˜æ´»åˆ†æžè¦–è¦ºåŒ–é¦–é¸ã€‚} æœ¬å ±å‘ŠåŸºæ–¼ Reddit r/rstatsã€GitHub
æ´»èºåº¦ã€CRAN æ›´æ–°ç´€éŒ„åŠ Posit å®˜æ–¹æ–‡ä»¶ï¼Œç‚ºè‡¨åºŠé†«å­¸ç ”ç©¶è€…å½™æ•´ 2025 å¹´ R
å¥—ä»¶ç”Ÿæ…‹ç³»çµ±çš„æœ€æ–°ç™¼å±•èˆ‡æœ€ä½³å¯¦è¸ã€‚

\section{è³‡æ–™è¦–è¦ºåŒ–ï¼šggplot2
ç”Ÿæ…‹ç³»çš„é»ƒé‡‘çµ„åˆ}\label{ux8cc7ux6599ux8996ux89baux5316ggplot2-ux751fux614bux7cfbux7684ux9ec3ux91d1ux7d44ux5408}

è‡¨åºŠç ”ç©¶è¦–è¦ºåŒ–çš„æ ¸å¿ƒä»æ˜¯
\textbf{ggplot2}ï¼Œä½†å…¶æ“´å±•å¥—ä»¶ç”Ÿæ…‹ç³»å·²è¶¨æˆç†Ÿã€‚2025
å¹´ç¤¾ç¾¤æœ€æŽ¨è–¦çš„çµ„åˆæ˜¯ï¼š

\textbf{åŸºç¤Žçµ„åˆï¼šggplot2 + ggpubr + ggsci + patchwork}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
å¥—ä»¶ & GitHub Stars & æœ€å¾Œæ›´æ–° & æ ¸å¿ƒåŠŸèƒ½ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{patchwork} & 2,600+ & 2024.09 & åœ–è¡¨çµ„åˆï¼ˆå–ä»£ gridExtraï¼‰ \\
\textbf{ggpubr} & æ´»èºç¶­è­· & 2024 & å‡ºç‰ˆç´šçµ±è¨ˆåœ–è¡¨ + é¡¯è‘—æ€§æ¨™è¨» \\
\textbf{ggsci} & æ´»èºç¶­è­· & 2024 & é†«å­¸æœŸåˆŠé…è‰²ï¼ˆNEJMã€Lancetã€JAMAï¼‰ \\
\textbf{ggrepel} & 1,200+ & 2024.11 & é¿å…æ¨™ç±¤é‡ç–Š \\
\textbf{ggstatsplot} & 2,100+ & 2025.08 & è‡ªå‹•çµ±è¨ˆåˆ†æžèˆ‡è¦–è¦ºåŒ–æ•´åˆ \\
\end{longtable}

\textbf{patchwork}
å·²æˆç‚ºåœ–è¡¨çµ„åˆçš„äº‹å¯¦æ¨™æº–ï¼Œèªžæ³•ç›´è¦ºï¼š\texttt{p1\ +\ p2}
æ°´å¹³æŽ’åˆ—ã€\texttt{p1\ /\ p2} åž‚ç›´å †ç–Šã€‚\textbf{ggsci} æä¾›
\texttt{scale\_color\_nejm()}ã€\texttt{scale\_fill\_lancet()}
ç­‰å‡½æ•¸ï¼Œè®“åœ–è¡¨é…è‰²ç›´æŽ¥ç¬¦åˆæœŸåˆŠé¢¨æ ¼ã€‚

\subsection{è‡¨åºŠå°ˆç”¨åœ–è¡¨çš„æœ€ä½³é¸æ“‡}\label{ux81e8ux5e8aux5c08ux7528ux5716ux8868ux7684ux6700ux4f73ux9078ux64c7}

\textbf{å­˜æ´»æ›²ç·šï¼šggsurvfitï¼ˆ2025 æ¨™æº–ï¼‰}

survminer å·²é€æ¼¸è¢« \textbf{ggsurvfit} å–ä»£ã€‚é—œéµå·®ç•°åœ¨æ–¼ ggsurvfit
å›žå‚³çœŸæ­£çš„ ggplot ç‰©ä»¶ï¼Œå¯å®Œå…¨å®¢è£½åŒ–ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ggsurvfit)}
\FunctionTok{survfit2}\NormalTok{(}\FunctionTok{Surv}\NormalTok{(time, status) }\SpecialCharTok{\textasciitilde{}}\NormalTok{ group, }\AttributeTok{data =}\NormalTok{ df) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{ggsurvfit}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{add\_risktable}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{add\_confidence\_interval}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_color\_nejm}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

ggsurvfit ç”± pharmaverse åœ˜éšŠé–‹ç™¼ï¼ŒåŽŸç”Ÿæ”¯æ´ CDISC ADaM
è³‡æ–™æ ¼å¼ï¼Œé¢¨éšªè¡¨æœƒè‡ªå‹•å°é½Šç¸®æ”¾------é€™æ˜¯ survminer é•·æœŸè¢«è©¬ç—…çš„å•é¡Œã€‚

\begin{itemize}
\tightlist
\item
  \textbf{ggsurvfit}: https://cran.r-project.org/package=ggsurvfitï¼ˆ2024
  æ´»èºæ›´æ–°ï¼‰
\item
  \textbf{survminer}: ä»å¯ç”¨ä½†é–‹ç™¼è¼ƒä¸æ´»èºï¼Œå»ºè­°æ–°å°ˆæ¡ˆä½¿ç”¨ ggsurvfit
\end{itemize}

\textbf{æ£®æž—åœ–ï¼šforestploterï¼ˆ2025 é¦–é¸ï¼‰}

\textbf{forestploter}
å°‡æ£®æž—åœ–è¦–ç‚ºå°é½Šçš„è¡¨æ ¼è™•ç†ï¼Œæä¾›æœ€å¤§çš„ç‰ˆé¢æŽ§åˆ¶å½ˆæ€§ã€‚ç›¸è¼ƒæ–¼ forestplot
å¥—ä»¶çš„ grid ç¹ªåœ–ç³»çµ±ï¼Œforestploter æ›´å®¹æ˜“ç”¢å‡ºæœŸåˆŠå“è³ªçš„åœ–è¡¨ï¼š

\begin{itemize}
\tightlist
\item
  \textbf{forestploter}:
  https://cran.r-project.org/package=forestploterï¼ˆ2024 æ´»èºï¼‰
\item
  \textbf{meta::forest()}: é©åˆæ¨™æº– meta-analysisï¼Œå…§å»º JAMAã€RevMan5
  ç‰ˆåž‹
\item
  \textbf{ggforestplot}: é©åˆç”Ÿç‰©æ¨™è¨˜ç ”ç©¶çš„åž‚ç›´æŽ’åˆ—ç‰ˆåž‹
\end{itemize}

\subsection{äº’å‹•å¼åœ–è¡¨æ¯”è¼ƒ}\label{ux4e92ux52d5ux5f0fux5716ux8868ux6bd4ux8f03}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
å¥—ä»¶ & åŸºç¤ŽæŠ€è¡“ & æœ€ä½³ç”¨é€” & æŽˆæ¬Š \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{plotly} & Plotly.js & ggplot2 å¿«é€Ÿè½‰äº’å‹•ï¼ˆggplotlyï¼‰ & é–‹æº \\
\textbf{ggiraph} & htmlwidgets & å·¥å…·æç¤º + é€£å‹•åœ–è¡¨ & é–‹æº \\
\textbf{echarts4r} & Apache ECharts & Shiny å„€è¡¨æ¿ & é–‹æº \\
\textbf{highcharter} & Highcharts & å•†æ¥­ç´šå“è³ª & å•†ç”¨éœ€æŽˆæ¬Š \\
\end{longtable}

\textbf{plotly} ä»æ˜¯æœ€ç°¡ä¾¿çš„é¸æ“‡------ç¾æœ‰ ggplot2 ç¨‹å¼ç¢¼åªéœ€åŒ…è£¹
\texttt{ggplotly()}
å³å¯äº’å‹•åŒ–ã€‚éœ€è¦é€²éšŽå·¥å…·æç¤ºæˆ–åœ–è¡¨é€£å‹•æ™‚ï¼Œ\textbf{ggiraph}
æ˜¯æ›´å¥½çš„é¸æ“‡ã€‚

\section{æµç¨‹åœ–è£½ä½œï¼šCONSORT/STROBE
åœ–çš„æœ€ä½³è§£æ±ºæ–¹æ¡ˆ}\label{ux6d41ux7a0bux5716ux88fdux4f5cconsortstrobe-ux5716ux7684ux6700ux4f73ux89e3ux6c7aux65b9ux6848}

\subsection{2025 å¹´æŽ¨è–¦ï¼šflowchart
å¥—ä»¶}\label{ux5e74ux63a8ux85a6flowchart-ux5957ux4ef6}

\textbf{flowchart} å¥—ä»¶ï¼ˆ2024 å¹´ 2 æœˆé¦–ç™¼ï¼Œ2024 å¹´ 11 æœˆæ›´æ–°è‡³
v0.6.0ï¼‰æŽ¡ç”¨ tidyverse å·¥ä½œæµç¨‹ï¼Œå¯å¾žè³‡æ–™æ¡†è‡ªå‹•è¨ˆç®—å—è©¦è€…äººæ•¸ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(flowchart)}
\NormalTok{data }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{as\_fc}\NormalTok{(}\AttributeTok{label =} \StringTok{"Screened"}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{fc\_filter}\NormalTok{(eligible }\SpecialCharTok{==} \ConstantTok{TRUE}\NormalTok{, }\AttributeTok{label =} \StringTok{"Eligible"}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{fc\_split}\NormalTok{(group, }\AttributeTok{label =} \StringTok{"Randomized"}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{fc\_draw}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\textbf{å„ªå‹¢}ï¼šæ•¸æ“šè®Šæ›´æ™‚åœ–è¡¨è‡ªå‹•æ›´æ–°ï¼Œå®Œå…¨å¯é‡ç¾ã€‚

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
å¥—ä»¶ & ç”¨é€” & CRAN & æœ€å¾Œæ›´æ–° & å­¸ç¿’æ›²ç·š \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{flowchart} & CONSORT/STROBE & âœ… & 2024.11 & ä½Žï¼ˆtidyverseï¼‰ \\
\textbf{consort} & CONSORT å°ˆç”¨ & âœ… & 2024 & ä½Ž \\
\textbf{DiagrammeR} & é€šç”¨æµç¨‹åœ– & âœ… & 2024.02 & ä¸­é«˜ \\
\textbf{ggflowchart} & ç°¡å–®æµç¨‹åœ– & âœ… & 2023.05 & ä½Ž \\
\end{longtable}

\textbf{consort} å¥—ä»¶ï¼ˆhttps://github.com/adayim/consortï¼‰å°ˆç‚º CONSORT
è²æ˜Žè¨­è¨ˆï¼Œé©åˆéœ€è¦åš´æ ¼éµå¾ª CONSORT æ ¼å¼çš„ç ”ç©¶ã€‚\textbf{DiagrammeR}
å‰‡é©åˆéœ€è¦å®Œå…¨å®¢è£½åŒ–çš„è¤‡é›œæµç¨‹åœ–ï¼Œä½¿ç”¨ Graphviz DOT èªžè¨€ã€‚

\section{è¡¨æ ¼è£½ä½œï¼šgtsummary + flextable
æ˜¯é»ƒé‡‘çµ„åˆ}\label{ux8868ux683cux88fdux4f5cgtsummary-flextable-ux662fux9ec3ux91d1ux7d44ux5408}

\subsection{Table
1ï¼ˆåŸºç·šç‰¹å¾µè¡¨ï¼‰}\label{table-1ux57faux7ddaux7279ux5fb5ux8868}

\textbf{gtsummary} å·²æˆç‚ºè‡¨åºŠç ”ç©¶ Table 1 çš„äº‹å¯¦æ¨™æº–ï¼Œå–ä»£äº†è¼ƒèˆŠçš„
tableoneï¼š

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
åŠŸèƒ½ & gtsummary & tableone & table1 & arsenal \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
è‡¨åºŠç ”ç©¶å°Žå‘ & â­â­â­ & â­â­â­ & â­â­ & â­â­â­ \\
è‡ªå‹•è®Šæ•¸åµæ¸¬ & âœ… & âœ… & âŒ & âœ… \\
çµ±è¨ˆæª¢å®š p å€¼ & âœ… add\_p() & âœ… & æœ‰é™ & âœ… \\
SMD æ”¯æ´ & âœ… add\_difference() & â­â­â­ & âŒ & âœ… \\
Word è¼¸å‡º & â­â­â­ & â­â­ & âŒ & â­â­ \\
æ´»èºé–‹ç™¼ & â­â­â­ & â­â­ & â­â­ & â­â­ \\
\end{longtable}

\textbf{gtsummary} æœ€å¾Œæ›´æ–°ï¼š2024 å¹´ 11 æœˆ 30 æ—¥ï¼ˆv2.4.0ï¼‰ï¼Œç”± Memorial
Sloan Kettering çš„ Daniel Sjoberg é–‹ç™¼ç¶­è­·ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(gtsummary)}
\NormalTok{data }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{tbl\_summary}\NormalTok{(}
    \AttributeTok{by =}\NormalTok{ treatment,}
    \AttributeTok{include =} \FunctionTok{c}\NormalTok{(age, sex, bmi),}
    \AttributeTok{statistic =} \FunctionTok{list}\NormalTok{(}\FunctionTok{all\_continuous}\NormalTok{() }\SpecialCharTok{\textasciitilde{}} \StringTok{"\{mean\} (\{sd\})"}\NormalTok{)}
\NormalTok{  ) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{add\_p}\NormalTok{() }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{add\_overall}\NormalTok{() }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{bold\_labels}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\subsection{è¼¸å‡ºæ ¼å¼åŒ–}\label{ux8f38ux51faux683cux5f0fux5316}

\textbf{Word è¼¸å‡ºï¼ˆæœŸåˆŠæŠ•ç¨¿å¿…å‚™ï¼‰}ï¼šä½¿ç”¨ \textbf{flextable}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{tbl\_summary}\NormalTok{(data, }\AttributeTok{by =}\NormalTok{ group) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{as\_flex\_table}\NormalTok{() }\SpecialCharTok{|\textgreater{}}
\NormalTok{  flextable}\SpecialCharTok{::}\FunctionTok{save\_as\_docx}\NormalTok{(}\AttributeTok{path =} \StringTok{"Table1.docx"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
å¥—ä»¶ & Word & HTML & PDF & æŽ¨è–¦å ´æ™¯ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{flextable} & â­â­â­ & â­â­ & â­â­ & æœŸåˆŠæŠ•ç¨¿ï¼ˆWordï¼‰ \\
\textbf{gt} & â­â­ & â­â­â­ & â­â­ & ç¶²é å ±å‘Š \\
\textbf{kableExtra} & â­ & â­â­â­ & â­â­â­ & LaTeX/PDF \\
\textbf{huxtable} & â­â­ & â­â­ & â­â­ & å¤šæ ¼å¼è¼¸å‡º \\
\end{longtable}

\textbf{gt} ç”± Posit é–‹ç™¼ï¼ŒHTML è¼¸å‡ºæœ€ç¾Žè§€ï¼Œä½† Word æ”¯æ´ä»ä¸å¦‚ flextable
ç©©å®šã€‚

\section{ç’°å¢ƒèˆ‡å¥—ä»¶ç®¡ç†ï¼š2025
å¹´æ¨™æº–å·¥å…·éˆ}\label{ux74b0ux5883ux8207ux5957ux4ef6ux7ba1ux74062025-ux5e74ux6a19ux6e96ux5de5ux5177ux93c8}

\subsection{å°ˆæ¡ˆç’°å¢ƒç®¡ç†ï¼šrenvï¼ˆpackrat
å·²æ£„ç”¨ï¼‰}\label{ux5c08ux6848ux74b0ux5883ux7ba1ux7406renvpackrat-ux5df2ux68c4ux7528}

\textbf{packrat å·²è¢«å®˜æ–¹è»Ÿæ£„ç”¨}ï¼Œrenv æ˜¯å”¯ä¸€æŽ¨è–¦é¸æ“‡ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{renv}\SpecialCharTok{::}\FunctionTok{init}\NormalTok{()        }\CommentTok{\# åˆå§‹åŒ–å°ˆæ¡ˆ}
\NormalTok{renv}\SpecialCharTok{::}\FunctionTok{snapshot}\NormalTok{()    }\CommentTok{\# å„²å­˜å¥—ä»¶ç‰ˆæœ¬}
\NormalTok{renv}\SpecialCharTok{::}\FunctionTok{restore}\NormalTok{()     }\CommentTok{\# é‚„åŽŸç’°å¢ƒ}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  \textbf{renv}: https://cran.r-project.org/package=renvï¼ˆ2024.10 æ›´æ–°ï¼‰
\item
  ä½¿ç”¨ JSON æ ¼å¼çš„ \texttt{renv.lock} è¨˜éŒ„æ‰€æœ‰å¥—ä»¶ç‰ˆæœ¬
\item
  å…¨åŸŸå¿«å–ç¯€çœç£ç¢Ÿç©ºé–“
\end{itemize}

\subsection{å¥—ä»¶å®‰è£ï¼špak å„ªæ–¼
install.packages}\label{ux5957ux4ef6ux5b89ux88ddpak-ux512aux65bc-install.packages}

\textbf{pak} æä¾›å¹³è¡Œä¸‹è¼‰ã€ç›¸ä¾æ€§è§£æžã€å¤šä¾†æºæ”¯æ´ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pak}\SpecialCharTok{::}\FunctionTok{pak}\NormalTok{(}\StringTok{"tidyverse"}\NormalTok{)              }\CommentTok{\# CRAN}
\NormalTok{pak}\SpecialCharTok{::}\FunctionTok{pak}\NormalTok{(}\StringTok{"tidyverse/dplyr"}\NormalTok{)        }\CommentTok{\# GitHub}
\NormalTok{pak}\SpecialCharTok{::}\FunctionTok{pak}\NormalTok{(}\StringTok{"bioc::Biobase"}\NormalTok{)          }\CommentTok{\# Bioconductor}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
åŠŸèƒ½ & pak & install.packages() \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
å¹³è¡Œä¸‹è¼‰ & âœ… & âŒ \\
ç›¸ä¾æ€§è¡çªæª¢æŸ¥ & âœ… & âŒ \\
GitHub/Bioconductor & âœ… åŽŸç”Ÿæ”¯æ´ & âŒ éœ€é¡å¤–å¥—ä»¶ \\
ç³»çµ±ç›¸ä¾æ€§æç¤º & âœ… & âŒ \\
\end{longtable}

\subsection{R ç‰ˆæœ¬ç®¡ç†ï¼šrig}\label{r-ux7248ux672cux7ba1ux7406rig}

\textbf{rig}ï¼ˆhttps://github.com/r-lib/rigï¼‰æ˜¯è·¨å¹³å°çš„ R ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{rig}\NormalTok{ add release }\CommentTok{\# å®‰è£æœ€æ–°ç©©å®šç‰ˆ}
\ExtensionTok{rig}\NormalTok{ add 4.3.2   }\CommentTok{\# å®‰è£ç‰¹å®šç‰ˆæœ¬}
\ExtensionTok{rig}\NormalTok{ default 4.4 }\CommentTok{\# è¨­å®šé è¨­ç‰ˆæœ¬}
\ExtensionTok{rig}\NormalTok{ rstudio 4.3 }\CommentTok{\# ä»¥ç‰¹å®šç‰ˆæœ¬å•Ÿå‹• RStudio / Antigravity}
\end{Highlighting}
\end{Shaded}

macOS ä½¿ç”¨è€…ä¹Ÿå¯é¸æ“‡ \textbf{RSwitch} ä½œç‚º GUI æ›¿ä»£æ–¹æ¡ˆã€‚

\section{ç¾ä»£ R
èªžæ³•ï¼šç®¡é“é‹ç®—å­èˆ‡è³‡æ–™è™•ç†}\label{ux73feux4ee3-r-ux8a9eux6cd5ux7ba1ux9053ux904bux7b97ux5b50ux8207ux8cc7ux6599ux8655ux7406}

\subsection{ç®¡é“é‹ç®—å­ï¼šnative \textbar\textgreater{}
å·²æˆä¸»æµ}\label{ux7ba1ux9053ux904bux7b97ux5b50native-ux5df2ux6210ux4e3bux6d41}

\textbf{2025 ç¤¾ç¾¤å…±è­˜}ï¼šæ–°ç¨‹å¼ç¢¼å„ªå…ˆä½¿ç”¨ native pipe
\texttt{\textbar{}\textgreater{}}ï¼Œmagrittr \texttt{\%\textgreater{}\%}
ä¿ç•™çµ¦éœ€è¦é€²éšŽ placeholder åŠŸèƒ½æ™‚ä½¿ç”¨ã€‚

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
ç‰¹æ€§ & Native \texttt{\textbar{}\textgreater{}} & Magrittr
\texttt{\%\textgreater{}\%} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
æ•ˆèƒ½ & é›¶é¡å¤–é–‹éŠ· & å¾®å°é–‹éŠ· \\
Placeholder & \texttt{\_}ï¼ˆåƒ…é™å…·ååƒæ•¸ï¼‰ & \texttt{.}ï¼ˆå½ˆæ€§ï¼‰ \\
ç›¸ä¾æ€§ & ç„¡ï¼ˆR 4.1+ï¼‰ & éœ€å®‰è£ magrittr \\
å¤šæ¬¡ä½¿ç”¨ placeholder & âŒ & âœ… \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Native pipeï¼ˆæŽ¨è–¦ï¼‰}
\NormalTok{df }\SpecialCharTok{|\textgreater{}} \FunctionTok{filter}\NormalTok{(age }\SpecialCharTok{\textgreater{}} \DecValTok{18}\NormalTok{) }\SpecialCharTok{|\textgreater{}} \FunctionTok{summarise}\NormalTok{(}\AttributeTok{mean\_bmi =} \FunctionTok{mean}\NormalTok{(bmi))}

\CommentTok{\# éœ€è¦ magrittr çš„æƒ…æ³}
\NormalTok{df }\SpecialCharTok{\%\textgreater{}\%}\NormalTok{ \{}\FunctionTok{paste}\NormalTok{(.}\SpecialCharTok{$}\NormalTok{name, .}\SpecialCharTok{$}\NormalTok{id)\}  }\CommentTok{\# placeholder å¤šæ¬¡ä½¿ç”¨}
\end{Highlighting}
\end{Shaded}

\subsection{data.table vs dplyr vs
polars}\label{data.table-vs-dplyr-vs-polars}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
è³‡æ–™è¦æ¨¡ & æŽ¨è–¦å·¥å…· \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textless{} 100 è¬åˆ— & dplyr \\
100 è¬ - 1000 è¬åˆ— & dtplyr æˆ– data.table \\
\textgreater{} 1000 è¬åˆ—æˆ–è¨˜æ†¶é«”ä¸è¶³ & data.table æˆ– polars \\
\end{longtable}

\textbf{polars}ï¼ˆhttps://rpolars.github.ioï¼‰æ­£åœ¨ R
ç¤¾ç¾¤å¿«é€Ÿæˆé•·ï¼Œæ•ˆèƒ½å¯é” dplyr çš„ \textbf{15-25 å€}ï¼Œä½†å°šæœªä¸Šæž¶
CRANã€‚\textbf{dtplyr} è®“ä½ ç”¨ dplyr èªžæ³•ç²å¾— data.table æ•ˆèƒ½ã€‚

\subsection{Tidyverse
æ ¸å¿ƒå¥—ä»¶è©•ä¼°}\label{tidyverse-ux6838ux5fc3ux5957ux4ef6ux8a55ux4f30}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
å¥—ä»¶ & ç‹€æ…‹ & èªªæ˜Ž \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
ggplot2 & â­ å¿…å‚™ & è¦–è¦ºåŒ–å”¯ä¸€æ¨™æº– \\
dplyr & â­ å¿…å‚™ & è³‡æ–™è™•ç†æ ¸å¿ƒ \\
tidyr & â­ å¿…å‚™ & pivot\_longer/wider ç„¡å¯å–ä»£ \\
lubridate & â­ å¿…å‚™ & æ—¥æœŸè™•ç†ï¼ˆå·²ç´å…¥ tidyverse æ ¸å¿ƒï¼‰ \\
glue & â­ å¼·çƒˆæŽ¨è–¦ & å­—ä¸²æ’å€¼ï¼Œæ¯” paste() ç›´è¦º \\
stringr & âœ… æœ‰ç”¨ & ä¸€è‡´çš„å­—ä¸²è™•ç† API \\
purrr & âš ï¸ å¯é¸ & R 4.1+ åŒ¿åå‡½æ•¸ \texttt{\textbackslash{}(x)}
æ¸›å°‘éœ€æ±‚ \\
forcats & âš ï¸ å¯é¸ & å› å­è™•ç†ï¼Œéžå¿…è¦ \\
\end{longtable}

\section{éž RStudio / Antigravity
é–‹ç™¼ç’°å¢ƒè¨­å®š}\label{ux975e-rstudio-antigravity-ux958bux767cux74b0ux5883ux8a2dux5b9a}

\subsection{VS Code or Antigravity
å®Œæ•´è¨­å®š}\label{vs-code-or-antigravity-ux5b8cux6574ux8a2dux5b9a}

\textbf{å¿…è¦å…ƒä»¶}ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{vscode-R æ“´å±•}ï¼ˆREditorSupportï¼‰ï¼šVS Code å¸‚é›†å®‰è£
\item
  \textbf{languageserver}ï¼š\texttt{install.packages("languageserver")}
\item
  \textbf{radian}ï¼š\texttt{pip\ install\ radian}ï¼ˆå¢žå¼·åž‹ R çµ‚ç«¯æ©Ÿï¼‰
\item
  \textbf{httpgd}ï¼š\texttt{devtools::install\_github("nx10/httpgd")}ï¼ˆâš ï¸
  2025.04 å¾ž CRAN ç§»é™¤ï¼‰
\end{enumerate}

\textbf{settings.json è¨­å®š}ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{\{}
    \DataTypeTok{"r.rterm.mac"}\FunctionTok{:} \StringTok{"/path/to/radian"}\FunctionTok{,}
    \DataTypeTok{"r.bracketedPaste"}\FunctionTok{:} \KeywordTok{true}\FunctionTok{,}
    \DataTypeTok{"r.plot.useHttpgd"}\FunctionTok{:} \KeywordTok{true}\FunctionTok{,}
    \DataTypeTok{"r.session.levelOfObjectDetail"}\FunctionTok{:} \StringTok{"Detailed"}
\FunctionTok{\}}
\end{Highlighting}
\end{Shaded}

\subsection{Neovim è¨­å®šï¼ˆR.nvimï¼‰}\label{neovim-ux8a2dux5b9ar.nvim}

\textbf{Nvim-R å·²è¢« R.nvim å–ä»£}ï¼ŒNeovim ä½¿ç”¨è€…æ‡‰é·ç§»ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{{-}{-} lazy.nvim è¨­å®š}
\FunctionTok{require}\OperatorTok{(}\StringTok{"lazy"}\OperatorTok{).}\NormalTok{setup}\OperatorTok{(\{}
    \OperatorTok{\{} \StringTok{"R{-}nvim/R.nvim"}\OperatorTok{,} \VariableTok{lazy} \OperatorTok{=} \KeywordTok{false} \OperatorTok{\},}
    \StringTok{"R{-}nvim/cmp{-}r"}\OperatorTok{,}
    \OperatorTok{\{}
        \StringTok{"nvim{-}treesitter/nvim{-}treesitter"}\OperatorTok{,}
        \VariableTok{config} \OperatorTok{=} \KeywordTok{function}\OperatorTok{()}
            \FunctionTok{require}\OperatorTok{(}\StringTok{"nvim{-}treesitter.configs"}\OperatorTok{).}\NormalTok{setup}\OperatorTok{(\{}
                \VariableTok{ensure\_installed} \OperatorTok{=} \OperatorTok{\{} \StringTok{"r"}\OperatorTok{,} \StringTok{"markdown"}\OperatorTok{,} \StringTok{"rnoweb"} \OperatorTok{\},}
                \VariableTok{highlight} \OperatorTok{=} \OperatorTok{\{} \VariableTok{enable} \OperatorTok{=} \KeywordTok{true} \OperatorTok{\},}
            \OperatorTok{\})}
        \KeywordTok{end}\OperatorTok{,}
    \OperatorTok{\},}
\OperatorTok{\})}
\end{Highlighting}
\end{Shaded}

\subsection{Positron IDEï¼šPosit
çš„æ–°é¸æ“‡}\label{positron-ideposit-ux7684ux65b0ux9078ux64c7}

\textbf{Positron}ï¼ˆhttps://posit.co/products/open-source/positron/ï¼‰æ–¼
2025 å¹´ 8 æœˆé‡‹å‡ºç©©å®šç‰ˆï¼ŒåŸºæ–¼ VS Code ä½†å°ˆç‚ºè³‡æ–™ç§‘å­¸å„ªåŒ–ï¼š

\begin{itemize}
\tightlist
\item
  R å’Œ Python ç„¡éœ€å®‰è£æ“´å±•å³å¯ä½¿ç”¨
\item
  å…§å»ºè³‡æ–™æ¡†æª¢è¦–å™¨ï¼ˆé¡žä¼¼ RStudio / Antigravity çš„ View()ï¼‰
\item
  Posit å®˜æ–¹é–‹ç™¼ç¶­è­·
\end{itemize}

\textbf{é©åˆå ´æ™¯}ï¼šR + Python å¤šèªžè¨€å°ˆæ¡ˆã€æƒ³è¦ RStudio / Antigravity
åŠŸèƒ½ä½†åå¥½ VS Code ä»‹é¢è€…ã€‚

\section{å¯¦ç”¨å·¥å…·å¥—ä»¶ï¼š2025
å¿…è£æ¸…å–®}\label{ux5be6ux7528ux5de5ux5177ux5957ux4ef62025-ux5fc5ux88ddux6e05ux55ae}

\subsection{è³‡æ–™æ¸…ç†}\label{ux8cc7ux6599ux6e05ux7406}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
å¥—ä»¶ & åŠŸèƒ½ & æœ€å¾Œæ›´æ–° \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{janitor} & clean\_names()ã€tabyl()ã€get\_dupes() & 2024.12 \\
\textbf{skimr} & skim() è¶…è¶Š summary() çš„è³‡æ–™æ‘˜è¦ & æ´»èº \\
\textbf{tidylog} & dplyr æ“ä½œå³æ™‚å›žé¥‹ & æ´»èº \\
\end{longtable}

\subsection{æª”æ¡ˆæ“ä½œ}\label{ux6a94ux6848ux64cdux4f5c}

\begin{itemize}
\tightlist
\item
  \textbf{here}ï¼šå¯é‡ç¾çš„è·¯å¾‘ç®¡ç†ï¼Œ\texttt{here("data",\ "clinical.csv")}
\item
  \textbf{fs}ï¼šè·¨å¹³å°æª”æ¡ˆæ“ä½œï¼Œå–ä»£ base R çš„ file.* å‡½æ•¸
\end{itemize}

\subsection{å ±å‘Šç”Ÿæˆï¼šQuarto æ˜¯ 2025
æ–°æ¨™æº–}\label{ux5831ux544aux751fux6210quarto-ux662f-2025-ux65b0ux6a19ux6e96}

\textbf{Posit å®˜æ–¹ç«‹å ´}ï¼šR Markdown ä¸æœƒæ£„ç”¨ä½†æ–°åŠŸèƒ½åªåŠ å…¥ Quartoã€‚

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
åŠŸèƒ½ & Quarto & R Markdown \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
å¤šèªžè¨€æ”¯æ´ & Rã€Pythonã€Julia & ä»¥ R ç‚ºä¸» \\
æœŸåˆŠæ¨¡æ¿ & å…§å»ºå¤šç¨®æœŸåˆŠæ ¼å¼ & éœ€é¡å¤–å¥—ä»¶ \\
äº¤å‰å¼•ç”¨ & å…§å»º & éœ€ bookdown \\
è¨­å®šæª” & å–®ä¸€ \_quarto.yml & å¤šå€‹è¨­å®šæª” \\
\end{longtable}

\textbf{å»ºè­°}ï¼šæ–°å°ˆæ¡ˆä½¿ç”¨ Quartoï¼Œç¾æœ‰ R Markdown å°ˆæ¡ˆç„¡éœ€æ€¥è‘—é·ç§»ã€‚

\subsection{è‡¨åºŠç ”ç©¶å°ˆç”¨è³‡æº}\label{ux81e8ux5e8aux7814ux7a76ux5c08ux7528ux8cc7ux6e90}

\begin{itemize}
\tightlist
\item
  \textbf{CRAN Task View: Clinical Trials}:
  https://cran.r-project.org/view=ClinicalTrials
\item
  \textbf{Pharmaverse}ï¼ˆè£½è—¥æ¥­æ¨™æº–ï¼‰ï¼šadmiralã€rtablesã€teal
\item
  \textbf{R Consortium Clinical Reporting}:
  https://rconsortium.github.io/rtrs-wg/
\end{itemize}

\section{ç¸½çµï¼š2025
å¹´è‡¨åºŠç ”ç©¶è€…æŽ¨è–¦å¥—ä»¶çµ„åˆ}\label{ux7e3dux7d502025-ux5e74ux81e8ux5e8aux7814ux7a76ux8005ux63a8ux85a6ux5957ux4ef6ux7d44ux5408}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç’°å¢ƒç®¡ç†}
\FunctionTok{install.packages}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"renv"}\NormalTok{, }\StringTok{"pak"}\NormalTok{))}

\CommentTok{\# æ ¸å¿ƒå·¥å…·}
\FunctionTok{install.packages}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"tidyverse"}\NormalTok{, }\StringTok{"here"}\NormalTok{, }\StringTok{"fs"}\NormalTok{, }\StringTok{"janitor"}\NormalTok{, }\StringTok{"skimr"}\NormalTok{, }\StringTok{"rio"}\NormalTok{))}

\CommentTok{\# è‡¨åºŠè¡¨æ ¼}
\FunctionTok{install.packages}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"gtsummary"}\NormalTok{, }\StringTok{"flextable"}\NormalTok{, }\StringTok{"gt"}\NormalTok{))}

\CommentTok{\# è¦–è¦ºåŒ–}
\FunctionTok{install.packages}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"ggpubr"}\NormalTok{, }\StringTok{"ggsci"}\NormalTok{, }\StringTok{"patchwork"}\NormalTok{, }\StringTok{"ggsurvfit"}\NormalTok{, }\StringTok{"forestploter"}\NormalTok{))}

\CommentTok{\# æµç¨‹åœ–}
\FunctionTok{install.packages}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\StringTok{"flowchart"}\NormalTok{, }\StringTok{"consort"}\NormalTok{))}

\CommentTok{\# å ±å‘Š}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"quarto"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{å·²éŽæ™‚æˆ–ä¸å»ºè­°ä½¿ç”¨çš„å¥—ä»¶}\label{ux5df2ux904eux6642ux6216ux4e0dux5efaux8b70ux4f7fux7528ux7684ux5957ux4ef6}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
å¥—ä»¶ & ç‹€æ…‹ & æ›¿ä»£æ–¹æ¡ˆ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\textbf{packrat} & è»Ÿæ£„ç”¨ & renv \\
\textbf{survminer} & é–‹ç™¼è¼ƒä¸æ´»èº & ggsurvfit \\
\textbf{plyr} & å·²è¢«å–ä»£ & dplyr + purrr \\
\textbf{reshape2} & å·²è¢«å–ä»£ & tidyr \\
\textbf{drake} & å·²è¢«å–ä»£ & targets \\
\textbf{Nvim-R} & Neovim ç”¨æˆ¶æ‡‰é·ç§» & R.nvim \\
\end{longtable}




\end{document}
